import{j as ve}from"./index-fXlvfCI1.js";import{r,R as Y}from"./iframe-UZovMaw-.js";import{ae as le,N as re,bg as me,b6 as de,a5 as fe,a as m,bh as be,L as I,X as ye,M as U,ag as F,be as H,e as v,av as V,W as xe,a6 as pe,J as Ie,n as Ce,bi as Z,ad as G,an as he,T as ke,al as Se,aK as Ee,K as A,aH as we,aI as De,R as Fe,a9 as J,aa as x,ab as W,bj as O,ah as j,ay as Me,a7 as $,aj as Te,ai as Ke,aE as _e,aq as Oe,bk as ee,bl as te,ao as Ne,ar as Re,a8 as Pe,b as se,bm as ze,bn as ie,_ as Be,ap as Le}from"./data-D1knmAHb.js";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const qe=i=>r.forwardRef((o,e)=>{const t=le();return r.createElement(i,{...o,ref:e,_adaptiveMode:t})});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const He=Y.createContext([null,i=>{}]),Ve=Y.createContext([null,i=>{}]),Ae=Y.createContext([null,i=>{}]);/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */var T=(i=>(i.next="next",i.prev="prev",i.current="current",i.reset="reset",i))(T||{});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */var ce=(i=>(i.remove="remove",i.add="add",i.reorder="reorder",i))(ce||{});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */var R=(i=>(i.toggle="toggle",i.remove="remove",i))(R||{});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Q=r.forwardRef((i,o)=>{re(me);const e=r.useRef(null),t=r.useRef(null),{disabled:a=E.disabled,fillMode:s=E.fillMode,themeColor:l=E.themeColor,size:p=E.size,rounded:u=E.rounded,dir:d=E.dir,removeIcon:n=E.removeIcon,removeSvgIcon:h=E.removeSvgIcon,removable:f=E.removable}=i,c=fe(t,d);r.useImperativeHandle(e,()=>({element:t.current,props:i})),r.useImperativeHandle(o,()=>e.current);const[g,b]=r.useContext(He),[k,S]=r.useContext(Ve),[,w]=r.useContext(Ae),D=r.useMemo(()=>i.selected||(Array.isArray(g)?g.some(y=>y===i.value):g===i.value),[i.selected,i.value,g]),C=r.useMemo(()=>k===i.value,[i.value,k]);r.useEffect(()=>{C&&t.current&&t.current.focus()},[C]);const _=r.useCallback(y=>{b({type:R.toggle,payload:i.value,event:y})},[b,i.value]),M=r.useCallback(y=>{f&&(w({type:ce.remove,payload:i.value,event:y}),S({type:T.reset,payload:i.value,event:y}),b({type:R.remove,payload:i.value,event:y}),i.onRemove&&i.onRemove.call(void 0,{target:e.current,syntheticEvent:y}))},[i.onRemove,i.value,f,w,S,b]),z=r.useCallback(y=>{switch(y.keyCode){case m.left:S({type:T.prev,payload:i.value,event:y});break;case m.right:S({type:T.next,payload:i.value,event:y});break;case m.enter:b({type:R.toggle,payload:i.value,event:y});break;case m.delete:M(y);break}i.onKeyDown&&i.onKeyDown.call(void 0,{target:e.current,syntheticEvent:y})},[i.onKeyDown,i.value,S,b,M]),B=r.useCallback(y=>{S({payload:i.value,type:T.current,event:y}),i.onFocus&&i.onFocus.call(void 0,{target:e.current,syntheticEvent:y})},[i.onFocus,i.value,S]),L=r.useCallback(y=>{i.onBlur&&i.onBlur.call(void 0,{target:e.current,syntheticEvent:y})},[i.onBlur]),q=be(i,e,{onClick:_});return r.createElement("div",{...q,role:i.role||"button",id:i.value,style:i.style,ref:t,dir:c,tabIndex:ye(i.tabIndex,a),className:I("k-chip",{"k-rtl":c==="rtl","k-disabled":a,"k-selected":D,"k-focus":C,[`k-chip-${U.sizeMap[p]||p}`]:p,[`k-rounded-${U.roundedMap[u]||u}`]:u,[`k-chip-${s}`]:s,[`k-chip-${s}-${l}`]:!!(s&&l)},i.className),"aria-pressed":i.role?void 0:D,"aria-disabled":a,"aria-describedby":i.ariaDescribedBy,"aria-keyshortcuts":f?"Enter Delete":void 0,onFocus:B,onBlur:L,onKeyDown:z},D&&(i.selectedIcon||i.selectedSvgIcon)&&r.createElement(F,{className:"k-chip-icon",name:i.selectedIcon?H(i.selectedIcon):void 0,icon:i.selectedSvgIcon,size:"small"}),(i.icon||i.svgIcon)&&r.createElement(F,{className:"k-chip-icon",name:i.icon?H(i.icon):void 0,icon:i.svgIcon,size:"small"}),i.avatar&&r.createElement("div",{className:`k-chip-avatar k-avatar k-rounded-${i.avatar.rounded} k-avatar-md k-avatar-solid k-avatar-solid-primary`,style:i.avatar.style},r.createElement("span",{className:"k-avatar-image"},r.createElement("img",{src:i.avatar.image,alt:i.avatar.imageAlt}))),r.createElement("span",{className:"k-chip-content"},i.children!==void 0?i.children:i.text&&r.createElement("span",{"aria-label":i.ariaLabel||i.text,className:"k-chip-label"},i.text)),f&&r.createElement("span",{className:"k-chip-actions"},r.createElement("span",{className:I("k-chip-action","k-chip-remove-action"),onClick:M},r.createElement(F,{name:n?H(n):void 0,icon:h||de,size:"small"}))))}),We={id:v.string,text:v.string,value:v.any,dir:v.oneOf(["ltr","rtl"]),removable:v.bool,removeIcon:v.string,removeIconSvg:V,disabled:v.bool,icon:v.string,svgIcon:V,selectedIcon:v.string,selectedIconSvg:V,onRemove:v.func,dataItem:v.any,selected:v.bool,ariaDescribedBy:v.string,size:v.oneOf([null,"small","medium","large"]),rounded:v.oneOf([null,"small","medium","large","full"]),fillMode:v.oneOf([null,"outline","solid"]),themeColor:v.oneOf([null,"base","info","success","warning","error"])},E={disabled:!1,removable:!1,removeIcon:"k-i-x-circle",removeSvgIcon:de,dir:"ltr",size:"medium",rounded:"medium",fillMode:"solid",themeColor:"base"};Q.displayName="KendoReactChip";Q.propTypes=We;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */let je=class extends r.Component{constructor(){super(...arguments),this._input=null}get input(){return this._input}componentDidUpdate(o){const e=o.value,t=o.suggestedText,{value:a,suggestedText:s,focused:l}=this.props,p=this.input,u=e!==a||s!==t,d=u&&e.startsWith(a)&&!(t&&s&&t.endsWith(s)),n=xe(document);l&&p&&n!==p&&p.focus(),s&&u&&!d&&p&&p.setSelectionRange(a.length-s.length,a.length)}render(){const{expanded:o=!1,disabled:e,role:t="listbox",render:a,tabIndex:s,accessKey:l,unstyled:p,inputAttributes:u}=this.props,d=p&&p.uDropDownsBase,n={tabIndex:s,accessKey:l},h=r.createElement("input",{autoComplete:"off",id:this.props.id,type:"text",key:"searchbar",size:this.props.size,placeholder:this.props.placeholder,className:I(pe.inputInner({c:d})),role:t,name:this.props.name,value:this.props.value,onChange:this.props.onChange,ref:f=>this._input=f,onKeyDown:this.props.onKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onClick:this.props.onClick,"aria-disabled":e||void 0,disabled:e||void 0,readOnly:this.props.readOnly||void 0,title:this.props.title,"aria-haspopup":"listbox","aria-expanded":o,"aria-owns":this.props.owns,"aria-activedescendant":o?this.props.activedescendant:void 0,"aria-describedby":this.props.ariaDescribedBy,"aria-labelledby":this.props.ariaLabelledBy,"aria-label":this.props.ariaLabel,"aria-required":this.props.ariaRequired,"aria-controls":this.props.ariaControls,...Object.assign({},n,u)});return a?a.call(void 0,h):h}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const $e=i=>{const o=Ie(),e=Ce(),t=e&&e.uDropDownsBase,a=o.toLanguageString(Z,G[Z]),s=l=>l.preventDefault();return r.createElement("span",{className:I(pe.clearButton({c:t})),role:"button",onClick:i.onClick,onMouseDown:s,tabIndex:-1,title:a,key:"clearbutton"},r.createElement(F,{name:"x",icon:he}))};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const ae=ke;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Ue=i=>{const{footer:o,windowWidth:e=0,mobileFilter:t,children:a,navigatable:s,navigatableElements:l,expand:p,animation:u,title:d,subTitle:n,onClose:h}=i,f=le(),c={navigatable:s||!1,navigatableElements:l||[],expand:p,animation:u!==!1,actions:r.createElement(A,{tabIndex:0,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",icon:"x",svgIcon:he,onClick:h}),filter:t,onClose:h,animationStyles:f&&e<=f.small?{top:0,width:"100%",height:"100%"}:void 0,title:d,subTitle:n,className:"k-adaptive-actionsheet",position:f&&e<=f.small?"fullscreen":void 0};return r.createElement(Se,{...c},a,o&&r.createElement(Ee,{className:"k-actions k-actions-stretched"},r.createElement(A,{size:"large",tabIndex:0,"aria-label":o.cancelText,"aria-disabled":"false",type:"button",onClick:o.onCancel},o.cancelText),r.createElement(A,{tabIndex:0,themeColor:"primary",size:"large","aria-label":o.applyText,"aria-disabled":"false",type:"button",onClick:o.onApply},o.applyText)))};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Ge=i=>i.syntheticEvent.preventDefault(),Je=i=>i.syntheticEvent.stopPropagation();class Xe extends r.Component{render(){const{data:o,guid:e,focused:t,tagRender:a,tag:s,onTagDelete:l,size:p}=this.props;return r.createElement(r.Fragment,null,o.map((u,d)=>{const n=s?r.createElement(s,{key:u.text+d,tagData:u,guid:e,focusedTag:t,onTagDelete:l}):r.createElement(Q,{id:`tag-${e}-${u.text.replace(/\s+/g,"-")}`,"aria-selected":!0,role:"option","aria-setsize":o.length,key:u.text+d,text:u.text,removable:!0,onRemove:h=>l.call(void 0,u.data,h.syntheticEvent),onMouseDown:Ge,onClick:Je,className:u===t?"k-focus":void 0,size:p});return a?a(u,n):n}),this.props.children)}}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */var K=(i=>(i[i.PopupList=0]="PopupList",i[i.TagsList=1]="TagsList",i))(K||{});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const{sizeMap:N,roundedMap:Ye}=U,Qe="Please enter a valid value!",oe=i=>i.preventDefault(),ne=i=>i===2,P=class X extends r.Component{constructor(o){super(o),this.state={activedescendant:K.PopupList,currentValue:[]},this._element=null,this._valueItemsDuringOnChange=null,this.base=new J(this),this._tags=[],this._input=null,this._adaptiveInput=null,this._skipFocusEvent=!1,this._lastSelectedOrDeslectedItemIndex=null,this.itemHeight=0,this.scrollToFocused=!1,this.localization=null,this.focus=()=>{this._input&&this._input.focus()},this.handleItemSelect=(e,t)=>{const{dataItemKey:a,virtual:s}=this.props,l=x(this.props),p=s?s.skip:0,u=l[e-p],d=this.value.findIndex(h=>W(h,u,a));this._lastSelectedOrDeslectedItemIndex=l.findIndex(h=>W(h,u,a));let n=[];d!==-1?(n=this.value,n.splice(d,1)):n=[...this.value,u],(this.props.filter!==void 0?this.props.filter:this.state.text)&&!this.mobileMode&&(this.state.text&&(t.data.text=""),this.base.filterChanged("",t)),this._adaptiveInput&&this._adaptiveInput.blur(),this.state.focusedIndex!==void 0&&(t.data.focusedIndex=void 0),this.triggerOnChange(n,t),this.base.triggerPageChangeCornerItems(u,t)},this.onTagDelete=(e,t)=>{const a=this.base.initState();a.syntheticEvent=t,this.opened&&this.base.togglePopup(a),!this.state.focused&&!this.mobileMode&&(a.data.focused=!0,this.focus());const s=this.value;O(s,e,this.props.dataItemKey),this.triggerOnChange(s,a),this.applyState(a)},this.itemFocus=(e,t)=>{const{allowCustom:a,virtual:s}=this.props,l=x(this.props),p=s?s.skip:0,u=this.props.filter!==void 0?this.props.filter:this.state.text,{focusedIndex:d}=this.getFocusedState(),n=a&&u,h=l[e-p];h&&d!==e?this.state.focusedIndex!==e&&(t.data.focusedIndex=e,t.data.activedescendant=K.PopupList):n&&e===-1&&this.state.focusedIndex!==void 0&&(t.data.focusedIndex=void 0),this.base.triggerPageChangeCornerItems(h,t)},this.componentRef=e=>{this._element=e,this.base.wrapper=e},this.searchbarRef=e=>{const t=this._input=e&&e.input;t&&this.state.focused&&window.setTimeout(()=>t.focus(),0)},this.onChangeHandler=e=>{const t=this.base.initState(),a=e.target.value;t.syntheticEvent=e,this.props.filter===void 0&&(t.data.text=a),t.data.focusedIndex=void 0,this.opened||(this.base.togglePopup(t),this.setState({currentValue:this.value})),this.base.filterChanged(a,t),this.applyState(t),this.setState({group:void 0})},this.clearButtonClick=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),this.value.length>0&&this.triggerOnChange([],t),this.state.focusedIndex!==void 0&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t);const a=this.props.filter!==void 0?this.props.filter:this.state.text;j(a)&&a!==""&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this._lastSelectedOrDeslectedItemIndex=null,this.applyState(t)},this.onInputKeyDown=e=>{const{textField:t,groupField:a}=this.props,s=x(this.props),l=e.keyCode,p=this.props.filter!==void 0?this.props.filter:this.state.text,u=this.props.opened!==void 0?this.props.opened:this.state.opened,{focusedItem:d,focusedIndex:n}=this.getFocusedState(),h=this.base.initState();if(h.syntheticEvent=e,!p&&this.value.length>0&&(l===m.left||l===m.right||l===m.home||l===m.end||l===m.delete||l===m.backspace)&&!e.shiftKey)return this.onTagsNavigate(e,h);const f=()=>{e.preventDefault(),this.base.togglePopup(h),this.applyState(h)};if(this.opened)if(l===m.pageUp)e.preventDefault(),this.base.scrollPopupByPageSize(-1);else if(l===m.pageDown)e.preventDefault(),this.base.scrollPopupByPageSize(1);else if((e.ctrlKey||e.metaKey)&&e.code==="KeyA"){const c=(this.state.value&&this.state.value.length)===s.length?[]:s;this.updateStateOnKeyboardNavigation(c,h)}else if((e.ctrlKey||e.metaKey)&&e.shiftKey&&e.keyCode===m.end){const c=s.slice(this.getFocusedState().focusedIndex);this.itemFocus(s.length-1,h),this.updateStateOnKeyboardNavigation(c,h)}else if((e.ctrlKey||e.metaKey)&&e.shiftKey&&e.keyCode===m.home){const c=s.slice(0,this.getFocusedState().focusedIndex+1);this.itemFocus(0,h),this.updateStateOnKeyboardNavigation(c,h)}else if(e.shiftKey&&e.keyCode===m.up){let c;const g=this.getLastSelectedOrDeselectedIndex(1,n);g===null?c=n!==0?s.slice(n-1,n):[s[n]]:g===n?c=[s[g-1]]:n>=0&&(c=g>n?s.slice(n-1,g):s.slice(g-1,n)),c&&c.length>0&&(n>=1&&this.itemFocus(n-1,h),this.updateStateOnKeyboardNavigation(c,h))}else if(e.shiftKey&&e.keyCode===m.down){let c;const g=this.getLastSelectedOrDeselectedIndex(0,n);g===null?c=n!==s.length-1?s.slice(n,n+1):[s[n]]:g===n?c=s.slice(n,n+2):n>=0&&(c=g>n?s.slice(n+1,g+1):s.slice(g,n+2)),c&&c.length>=1&&(this.itemFocus(n+1,h),this.updateStateOnKeyboardNavigation(c,h))}else if(e.altKey&&l===m.up)f();else if(l===m.up||l===m.down){if(a!==""&&t)if(!this.props.skipDisabledItems&&u)this.onNavigate(h,l);else{let c=0;if(l===m.down||l===m.right){const g=s.slice(n+1).find(b=>!b.disabled&&b[t]);c=g&&s.findIndex(b=>b[t]===g[t])}else if(l===m.up||l===m.left){let g;if(n===-1)g=s,c=s.findIndex(b=>!b.disabled&&b[t]);else{g=s.slice(0,n);let b=g.pop();for(;b&&b.disabled;)b=g.pop();c=b&&s.findIndex(k=>k[t]===b[t])}}if(c){const g=c-n;this.onNavigate(h,l,g)}else c!==void 0&&this.onNavigate(h,l)}else if(!this.props.skipDisabledItems&&u)this.onNavigate(h,l);else{let c=null;if(l===m.down||l===m.right)c=s.slice(n+1).find(g=>!g.disabled);else if(l===m.up||l===m.left){const g=s.slice(0,n);for(c=g.pop();c&&c.disabled;)c=g.pop()}if(c){const g=c.id-n-1;this.onNavigate(h,l,g)}else this.onNavigate(h,l)}this.applyState(h),e.preventDefault()}else l===m.enter?(e.preventDefault(),this.props.allowCustom&&p&&d===null?this.customItemSelect(e):d&&d.disabled?f():this.selectFocusedItem(e)):l===m.esc&&f();else e.altKey&&l===m.down?f():l===m.esc&&this.clearButtonClick(e)},this.listContainerContent=()=>{const{header:e,footer:t,allowCustom:a,size:s,groupStickyHeaderItemRender:l,groupField:p,list:u}=this.props,d=x(this.props),n=this.props.filter!==void 0?this.props.filter:this.state.text,{focusedType:h}=this.getFocusedState(),f=a&&n&&r.createElement("div",{className:I("k-list",{[`k-list-${N[s]||s}`]:s}),key:"customitem",onClick:this.customItemSelect,onMouseDown:oe},r.createElement("div",{className:I("k-list-item k-custom-item",{"k-focus":ne(h)}),style:{fontStyle:"italic"}},n,r.createElement(F,{name:"plus",icon:Me,style:{position:"absolute",right:"0.5em"}})));let{group:c}=this.state;return c===void 0&&p!==void 0&&(c=$(d[0],p)),r.createElement(r.Fragment,null,e&&r.createElement("div",{className:"k-list-header"},e),f,r.createElement("div",{className:I("k-list",{[`k-list-${this.mobileMode?"lg":N[s]||s}`]:s,"k-virtual-list":this.base.vs.enabled})},!u&&c&&d.length!==0&&r.createElement(Te,{group:c,groupMode:"modern",render:l}),this.renderList()),t&&r.createElement("div",{className:"k-list-footer"},t))},this.renderListContainer=()=>{const e=this.base,{dir:t}=this.props,a=x(this.props),s=this.base.getPopupSettings(),l=s.width!==void 0?s.width:e.popupWidth,p={dir:t!==void 0?t:e.dirCalculated,width:l,popupSettings:{...s,popupClass:I(s.popupClass,"k-list-container","k-multiselect-popup"),anchor:s.anchor||this.element,show:this.opened,onOpen:this.onPopupOpened,onClose:this.onPopupClosed},itemsCount:[a.length,this.value.length]};return r.createElement(Ke,{...p},this.listContainerContent())},this.renderAdaptiveListContainer=()=>{const{adaptiveTitle:e,filterable:t,filter:a}=this.props,{windowWidth:s=0}=this.state,l=a!==void 0?a:this.state.text;this.localization=_e(this);const p=t?r.createElement(Oe,{value:l,ref:d=>this._adaptiveInput=d&&d.element,onChange:this.onChangeHandler,onKeyDown:this.onInputKeyDown,size:this.props.size,rounded:this.props.rounded,fillMode:this.props.fillMode}):null,u={title:e,expand:this.opened,onClose:d=>this.onCancel(d),windowWidth:s,mobileFilter:p,footer:{cancelText:this.localization.toLanguageString(te,G[te]),onCancel:this.onCancel,applyText:this.localization.toLanguageString(ee,G[ee]),onApply:this.closePopup}};return r.createElement(Ue,{...u},r.createElement(Ne,{overflowHidden:!0},r.createElement("div",{className:"k-list-container"},this.listContainerContent())))},this.closePopup=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),this.state.focusedIndex!==void 0&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t),t.events.push({type:"onClose"});const a=this.props.filter!==void 0?this.props.filter:this.state.text;j(a)&&a!==""&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this.applyState(t)},this.onCancel=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),this.state.focusedIndex!==void 0&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t),t.events.push({type:"onCancel"});const a=this.props.filter!==void 0?this.props.filter:this.state.text;j(a)&&a!==""&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this.applyState(t)},this.renderList=()=>{const{textField:e,listNoDataRender:t,itemRender:a,groupHeaderItemRender:s,dataItemKey:l,virtual:p={skip:0,total:void 0}}=this.props,u=x(this.props),d=this.base.vs,{focusedIndex:n}=this.getFocusedState(),h=this.base.getPopupSettings(),f=`translateY(${d.translate}px)`;return r.createElement(Re,{id:this.base.listBoxId,show:this.opened,data:u.slice(),focusedIndex:n-p.skip,value:this.value,textField:e,valueField:l,optionsGuid:this.base.guid,groupField:this.props.groupField,groupMode:"modern",listRef:c=>{d.list=this.base.list=c},wrapperStyle:this.mobileMode?{}:{maxHeight:h.height},wrapperCssClass:"k-list-content",listStyle:d.enabled?{transform:f}:void 0,key:"listKey",skip:p.skip,onClick:this.handleItemClick,itemRender:a,groupHeaderItemRender:s,noDataRender:t,onMouseDown:oe,onBlur:this.handleBlur,onScroll:this.onScroll,wrapperRef:d.scrollerRef,scroller:this.base.renderScrollElement(),ariaSetSize:p.total})},this.onScroll=e=>{const{vs:t,list:a}=this.base;t.scrollHandler(e);const{groupField:s}=this.props;let l=x(this.props);if(!(!s||!l.length)&&s){const p=this.itemHeight=this.itemHeight||(t.enabled?t.itemHeight:a?a.children[0].offsetHeight:0),u=e.target.scrollTop-t.skip*p;l=this.base.getGroupedDataModernMode(l,s);let d=l[0][s];for(let n=1;n<l.length&&!(p*n>u);n++)l[n]&&l[n][s]&&(d=l[n][s]);d!==this.state.group&&this.setState({group:d})}},this.customItemSelect=e=>{const t=this.props.filter!==void 0?this.props.filter:this.state.text,{textField:a}=this.props;if(!t)return;const s=this.base.initState();s.syntheticEvent=e;const l=a?{[a]:t}:t;this.state.text!==void 0&&(s.data.text=""),s.data.focusedIndex=void 0,this.base.filterChanged("",s);const p=[...this.value,l];this.triggerOnChange(p,s),this.base.togglePopup(s),this.applyState(s)},this.handleWrapperClick=e=>{const t=this._input;!this.opened&&t&&this.focusElement(t);const a=this.base.initState();a.syntheticEvent=e,!this.state.focused&&!this.mobileMode&&(a.events.push({type:"onFocus"}),a.data.focused=!0),this.mobileMode&&(this.setState({currentValue:this.tagsToRender}),this.mobileMode&&window.setTimeout(()=>this._adaptiveInput&&this._adaptiveInput.focus(),300)),this.base.togglePopup(a),this.applyState(a)},this.handleItemClick=(e,t)=>{const a=this.base.initState();a.syntheticEvent=t,this.handleItemSelect(e,a),this.props.autoClose&&!this.mobileMode&&this.base.togglePopup(a),t.stopPropagation(),this.applyState(a)},this.handleBlur=e=>{if(!this.state.focused||this._skipFocusEvent)return;const t=this.base.initState(),{allowCustom:a,filterable:s}=this.props;t.syntheticEvent=e,t.data.focused=!1,t.events.push({type:"onBlur"}),this.opened&&!this.mobileMode&&(this.state.opened&&(t.data.opened=!1),t.events.push({type:"onClose"})),!a&&!s&&this.state.text&&(t.data.text=""),this.applyState(t)},this.handleFocus=e=>{this._skipFocusEvent||this.base.handleFocus(e)},this.onPopupOpened=()=>{this._input&&this.state.focused&&!this.mobileMode&&this.focusElement(this._input)},this.onPopupClosed=()=>{this.state.focused&&window.setTimeout(()=>{this.state.focused&&this.focusElement(this._input)},0)},this.setValidity=()=>{this._input&&this._input.setCustomValidity&&this._input.setCustomValidity(this.validity.valid?"":this.props.validationMessage||Qe)},re(Pe)}get _inputId(){return this.props.id}get document(){if(se)return this.element&&this.element.ownerDocument||document}get element(){return this._element}get opened(){return!!(this.props.opened!==void 0?this.props.opened:this.state.opened)}get tagsToRender(){const{tags:o,textField:e}=this.props,t=[];return o===void 0?this.value.forEach(a=>{t.push({text:$(a,e),data:[a]})}):t.push(...o),t}get mobileMode(){var o;return!!(this.state.windowWidth&&this.props._adaptiveMode&&this.state.windowWidth<=((o=this.props._adaptiveMode)==null?void 0:o.medium)&&this.props.adaptive)}get value(){const o=[];return this._valueItemsDuringOnChange?o.push(...this._valueItemsDuringOnChange):this.props.value?o.push(...this.props.value):this.state.value?o.push(...this.state.value):this.props.defaultValue&&o.push(...this.props.defaultValue),o}get name(){return this.props.name}get validity(){const o=this.props.validationMessage!==void 0,e=!this.required||this.value!==null&&this.value.length>0&&this.value!==void 0,t=this.props.valid!==void 0?this.props.valid:e;return{customError:o,valid:t,valueMissing:this.value===null}}get required(){return this.props.required!==void 0?this.props.required:X.defaultProps.required}get validityStyles(){return this.props.validityStyles!==void 0?this.props.validityStyles:X.defaultProps.validityStyles}componentDidUpdate(o,e){var t;const{virtual:a,groupField:s=""}=this.props,l=x(this.props),p=a?a.skip:0,u=o.virtual?o.virtual.total:0,d=o.opened!==void 0?o.opened:e.opened,n=!d&&this.opened,h=d&&!this.opened,f=this.base.getPopupSettings();if(this.base.didUpdate(),!f.animate&&h&&this.onPopupClosed(),a&&a.total!==u)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{let{focusedItem:c,focusedIndex:g}=this.getFocusedState();s!==""&&(g=(t=this.base.getGroupedDataModernMode(l,s))==null?void 0:t.indexOf(c)),n&&a?this.base.scrollToVirtualItem(a,g-p):n&&!a?(l&&l.length!==0&&this.base.resetGroupStickyHeader(l[0][s],this),this.base.scrollToItem(g)):this.opened&&d&&c&&this.scrollToFocused&&this.base.scrollToItem(g-p)}this.scrollToFocused=!1,this.setValidity()}componentDidMount(){var o;this.observerResize=se&&window.ResizeObserver&&new window.ResizeObserver(this.calculateMedia.bind(this)),this.base.didMount(),this.setValidity(),(o=this.document)!=null&&o.body&&this.observerResize&&this.observerResize.observe(this.document.body)}componentWillUnmount(){var o;(o=this.document)!=null&&o.body&&this.observerResize&&this.observerResize.disconnect()}onNavigate(o,e,t){const{allowCustom:a}=this.props,s=x(this.props),l=this.props.filter!==void 0?this.props.filter:this.state.text,{focusedType:p,focusedIndex:u}=this.getFocusedState(),d=a&&l,n=ne(p),h=this.base,f=h.vs;if(this.opened&&e===m.up&&n)this.state.focusedIndex!==void 0&&(o.data.focusedIndex=void 0);else{const c=h.navigation.navigate({keyCode:e,current:u,max:(f.enabled?f.total:s.length)-1,min:d?-1:0,skipItems:t||void 0});c!==void 0&&(this.itemFocus(c,o),this.scrollToFocused=!0)}this.applyState(o)}render(){const{style:o,className:e,label:t,dir:a,disabled:s,textField:l,dataItemKey:p,virtual:u,size:d,rounded:n,fillMode:h,loading:f,filter:c}=this.props,{text:g,focused:b,focusedTag:k,currentValue:S}=this.state,w=this.base.vs,D=this.props.id||this._inputId;w.enabled=u!==void 0,u!==void 0&&(w.skip=u.skip,w.total=u.total,w.pageSize=u.pageSize);const C=this.mobileMode&&this.opened?S:this.tagsToRender;this.setItems(this.tagsToRender,this._tags);const _=!this.validityStyles||this.validity.valid,M=!!(c!==void 0?c:g)||C&&C.length>0,[z,B]=ae(this.props.prefix||r.Fragment),[L,q]=ae(this.props.suffix||r.Fragment),y=r.createElement(r.Fragment,null,r.createElement("div",{ref:this.componentRef,className:I("k-multiselect k-input",e,{[`k-input-${N[d]||d}`]:d,[`k-rounded-${Ye[n]||n}`]:n,[`k-input-${h}`]:h,"k-focus":b&&!s,"k-invalid":!_,"k-disabled":s,"k-loading":f,"k-required":this.required}),style:t?{...o,width:void 0}:o,dir:a,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleWrapperClick,onMouseDown:ze},this.props.prefix&&r.createElement(z,{...B}),r.createElement("div",{className:I("k-input-values")},r.createElement("div",{className:I("k-chip-list",{[`k-chip-list-${N[d]||d}`]:d}),role:"listbox",id:"tagslist-"+this.base.guid},C&&C.length>0&&r.createElement(Xe,{tagRender:this.props.tagRender,onTagDelete:this.onTagDelete,data:C,guid:this.base.guid,focused:k?C.find(ge=>ie(ge,k,p)):void 0,size:d})),this.renderSearchBar(D)),f&&r.createElement(F,{className:"k-input-loading-icon",name:"loading"}),this.props.suffix&&r.createElement(L,{...q}),M&&r.createElement($e,{onClick:this.clearButtonClick}),!this.mobileMode&&this.renderListContainer()),this.mobileMode&&this.renderAdaptiveListContainer());return t?r.createElement(Be,{label:t,editorId:D,editorValue:g||$(this.value[0],l),editorValid:_,editorDisabled:s,style:{width:o?o.width:void 0},children:y}):y}renderSearchBar(o){const{activedescendant:e,focusedTag:t,currentValue:a}=this.state,{disabled:s,placeholder:l,ariaDescribedBy:p,ariaLabelledBy:u,ariaLabel:d,inputAttributes:n}=this.props,h=!this.mobileMode&&(this.props.filter!==void 0?this.props.filter:this.state.text)||"",{focusedIndex:f}=this.getFocusedState(),c=this.value.length===0&&!h?l:void 0,g=a&&a.length>0?void 0:l,b=e===K.TagsList&&t!==void 0?`tag-${this.base.guid}-${t.text.replace(/\s+/g,"-")}`:`option-${this.base.guid}-${f}`,k={accessKey:this.props.accessKey,tabIndex:this.props.tabIndex};return r.createElement(je,{id:o,size:Math.max((c||"").length,h.length,1),placeholder:this.mobileMode&&this.opened?g:c,value:h,onChange:this.onChangeHandler,onKeyDown:this.onInputKeyDown,ref:this.searchbarRef,disabled:s,expanded:this.opened,owns:this.base.listBoxId,role:"combobox",activedescendant:b,ariaDescribedBy:`tagslist-${this.base.guid}${p?" "+p:""}`,ariaLabelledBy:u,ariaRequired:this.required,ariaLabel:d,inputAttributes:n,...k})}onTagsNavigate(o,e){const t=o.keyCode,{focusedTag:a}=this.state,s=this._tags,l=this.props.dataItemKey;let p=a?s.findIndex(n=>ie(n,a,l)):-1,u;const d=p!==-1;if(t===m.left)d?p=Math.max(0,p-1):p=s.length-1,u=s[p];else if(t===m.right)p===s.length-1?u=void 0:d&&(p=Math.min(s.length-1,p+1),u=s[p]);else if(t===m.home&&!o.shiftKey)u=s[0];else if(t===m.end&&!o.shiftKey)u=s[s.length-1];else if(t===m.delete){if(d){const n=this.value;O(n,s[p].data,l),this.triggerOnChange(n,e)}}else if(t===m.backspace){const n=this.value;if(d)O(n,s[p].data,l),this.triggerOnChange(n,e);else if(!d&&s.length){const h=s.pop();O(n,h.data,l),this.triggerOnChange(n,e)}}u!==a&&(e.data.focusedTag=u,e.data.activedescendant=K.TagsList),this.applyState(e)}triggerOnChange(o,e){this.props.value===void 0&&(e.data.value=[...o]),this._valueItemsDuringOnChange=[],this.setItems(o,this._valueItemsDuringOnChange),e.events.push({type:"onChange"})}selectFocusedItem(o,e){const{virtual:t}=this.props,a=x(this.props),{focusedIndex:s}=e||this.getFocusedState(),l=t?t.skip:0;a[s-l]!==void 0&&this.handleItemClick(s,o)}setItems(o,e){e.length=0,e.push(...o)}getFocusedState(){const{focusedIndex:o}=this.state,e=this.props.filter!==void 0?this.props.filter:this.state.text,{allowCustom:t,dataItemKey:a,virtual:s,textField:l,focusedItemIndex:p=Le,skipDisabledItems:u}=this.props,d=x(this.props),n=s&&s.skip||0;let h;if(o!==void 0)return{focusedIndex:o,focusedItem:d[o-n],focusedType:1};const f=this.value;if(t&&e)return{focusedItem:null,focusedIndex:-1,focusedType:2};if(e)return h=p(d,e,l),{focusedItem:d[h],focusedIndex:h+n,focusedType:1};if(f.length){const c=f[f.length-1];return h=d.findIndex(g=>W(g,c,a)),d[h]!==void 0?{focusedIndex:h+n,focusedItem:d[h],focusedType:1}:{focusedType:0,focusedIndex:-1}}else if(u&&l&&!e&&n===0){const c=d.findIndex(g=>!g.disabled&&g[l]);return{focusedIndex:c,focusedItem:d[c-n],focusedType:1}}return n===0?{focusedItem:d[0],focusedIndex:0,focusedType:1}:{focusedType:0,focusedIndex:-1}}focusElement(o){this._skipFocusEvent=!0,o.focus(),window.setTimeout(()=>this._skipFocusEvent=!1,0)}applyState(o){this.base.applyState(o),this._valueItemsDuringOnChange=null}calculateMedia(o){for(const e of o)this.setState({windowWidth:e.target.clientWidth})}updateStateOnKeyboardNavigation(o,e){this.setState({value:o}),this.triggerOnChange(o,e),this.applyState(e)}getLastSelectedOrDeselectedIndex(o,e){return this._lastSelectedOrDeslectedItemIndex===null&&(this._lastSelectedOrDeslectedItemIndex=e),this._lastSelectedOrDeslectedItemIndex!==null?this._lastSelectedOrDeslectedItemIndex+o:null}};P.displayName="MultiSelect",P.propTypes={...J.propTypes,autoClose:v.bool,value:v.arrayOf(v.any),defaultValue:v.arrayOf(v.any),dataItemKey:v.string,placeholder:v.string,tags:v.arrayOf(v.shape({text:v.string,data:v.arrayOf(v.any)})),tagRender:v.func,id:v.string,ariaLabelledBy:v.string,ariaDescribedBy:v.string,groupField:v.string,list:v.any,adaptive:v.bool,adaptiveTitle:v.string,onCancel:v.func,skipDisabledItems:v.bool,inputAttributes:v.object},P.defaultProps={...J.defaultProps,autoClose:!0,required:!1,size:"medium",rounded:"medium",fillMode:"solid",groupMode:"modern",skipDisabledItems:!0,prefix:void 0,suffix:void 0};let Ze=P;const et=Fe(),ue=we(De(et,qe(Ze)));ue.displayName="KendoReactMultiSelect";const tt=({data:i,selected:o,isFilterable:e,handleFilterSearch:t,handleFilterChange:a})=>ve.jsx(ue,{style:{width:"100%"},data:i,autoClose:!1,tags:o?.length>0?[{text:`${o?.length===1?o[0]:`${o?.length} items`}`,data:[...i]}]:[],filterable:e,onFilterChange:e?t:void 0,placeholder:"All",value:o,onChange:a});tt.__docgenInfo={description:"",methods:[],displayName:"MultiSelect",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(string | number | { [key: string]: string | number | boolean })[]"},description:""},selected:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(string | number | { [key: string]: string | number | boolean })[]"},description:""},isFilterable:{required:!0,tsType:{name:"boolean"},description:""},handleFilterSearch:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: MultiSelectFilterChangeEvent) => void",signature:{arguments:[{type:{name:"MultiSelectFilterChangeEvent"},name:"event"}],return:{name:"void"}}},description:""},handleFilterChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: MultiSelectChangeEvent) => void",signature:{arguments:[{type:{name:"MultiSelectChangeEvent"},name:"event"}],return:{name:"void"}}},description:""}}};export{tt as M};
