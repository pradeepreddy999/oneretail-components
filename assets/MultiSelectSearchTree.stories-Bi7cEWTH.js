import{j as he}from"./index-D1ipbYh1.js";import{r as s}from"./iframe-dVmxfsjj.js";import{e as c,a as Ze,n as B,b as Te,v as De,c as Pt,d as Ot,f as Bt,g as et,P as tt,h as Se,i as n,j as qt,I as At,o as ue,k as Kt,l as zt,m as jt,p as Ht,q as _t,y as Xe,r as Lt,t as Vt,s as Ge,u as pe,w as Ye,x as Ut,z as Wt,A as Xt,B as Gt,C as Yt}from"./AdaptiveMode-Demw2rm6.js";import{a as N,b as Jt,P as Qt,u as Zt,p as ei,E as ti}from"./KendoGridCommonFns-DdLL8Kq4.js";import{g as ii,b as si}from"./TagList-DLVoACYQ.js";import"./index-piPW6GFm.js";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const fe="",it="0",z="_";function ge(i,e,t){if(Me(i))return e[Number(i)];const r=e[Number(ni(i))],l=r&&r[t]||[];return l.length?ge(ri(i),l,t):void 0}function ni(i){return st(i)?i:i.split(z)[0]}function ri(i){if(st(i))return i;const e=i.indexOf(z);return i.substring(e+1)}function Je(i){return V("0",i)}function V(i,e){return i=i.toString(),e?e+z+i:i}function $e(i){const e=i.lastIndexOf(z);return e<0?fe:i.substring(0,e)}function st(i){return i===fe||i.indexOf(z)<0}function Me(i){return i!==fe&&i.indexOf(z)<0}function ai(i){return i.split(z)}function nt(i){const e=i.lastIndexOf(z);return e<0?i:i.substring(e+1)}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */let li=class{constructor(e){this.expandField=e.expandField,this.selectField=e.selectField,this.hasChildrenField=e.hasChildrenField,this.childrenField=e.childrenField,this.textField=e.textField,this.disableField=e.disableField,this.checkField=e.checkField,this.checkIndeterminateField=e.checkIndeterminateField,this.focusIdField=e.focusIdField}expanded(e){return N(this.expandField,e)}selected(e){return N(this.selectField,e)}text(e){return N(this.textField,e)}disabled(e){return N(this.disableField,e)}hasChildren(e){return N(this.hasChildrenField,e)}children(e){return N(this.childrenField,e)||[]}checked(e){return N(this.checkField,e)}checkIndeterminate(e){return N(this.checkIndeterminateField,e)}focusId(e){return this.focusIdField&&N(this.focusIdField,e)}getChildrenField(){return this.childrenField}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */let oi=class{constructor(){this.objects=[]}init(e){let t;for(let r=0;r<e.length;r++)r%5e4===0&&(t={},this.objects.push(t)),t[e[r]]=!0}hasId(e){return this.objects.some(t=>t[e])}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */function J(i,e){const t=N(e,i);return!!(t&&t.length)}function Z(i,e){return e.expanded(i)&&J(i,e.getChildrenField())}function di(i,e,t,r){const l=ci([i],e,t,r);return l.length?l[0]:void 0}function ci(i,e,t,r){const l=[],h=new oi;return h.init(i),at(h,e,t,fe,l,r),l}function rt(i,e,t){const r=ai(i);let l=e;for(let h=0;h<r.length;h++){const o=l[Number(r[h])];if(t.disabled(o))return!1;l=o[t.getChildrenField()]}return!0}function at(i,e,t,r,l,h){for(let o=0;o<t.length;o++){const m=t[o],f=V(o,r);i.hasId(N(e,m))&&l.push(f),J(m,h)&&at(i,e,N(h,m),f,l,h)}}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */function hi(i,e,t,r,l){switch(r){case c.left:return h();case c.right:return o();case c.up:return m();case c.down:return f();case c.home:return it;case c.end:return j();default:return e}function h(){return Me(e)||l.expanded(i)&&rt(e,t,l)?e:$e(e)}function o(){return Z(i,l)?Je(e):e}function m(){const C=Number(nt(e)),y=$e(e);return C?ot(V(C-1,y),t,l):Me(e)?e:y}function f(){return Z(i,l)?Je(e):lt(e,t,l)||e}function j(){let C=(t.length-1).toString(),y=t[t.length-1],R;for(;Z(y,l);)R=y[l.getChildrenField()],C=V(R.length-1,C),y=R[R.length-1];return C}}function lt(i,e,t){const r=$e(i),l=r?ge(r,e,t.getChildrenField()):void 0,h=l?l[t.getChildrenField()]:e,o=Number(nt(i));return o<h.length-1?V(o+1,r):l?lt(r,e,t):void 0}function ot(i,e,t){const r=ge(i,e,t.getChildrenField());return Z(r,t)?ot(V(r[t.getChildrenField()].length-1,i),e,t):i}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const ui=(i,e)=>i===e.length-1,dt=(i,e)=>{const t=ui(i,e);return i===0&&!t?"top":t?"bot":"mid"};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const pi="expanded",mi="text",fi="disabled",ct="items",gi="hasChildren",vi="selected",Ii="svgIcon",bi="checked",xi="checkIndeterminate",ki="_kendoItemId",Ci="_kendoTreeViewGuid";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const{sizeMap:Fi}=Te,Ei=s.createContext(i=>i),ht=class extends s.Component{constructor(){super(...arguments),this.onCheckChange=e=>{this.props.onCheckChange(e,this.item,this.itemId)},this.onExpandChange=e=>{this.props.onExpandChange(e,this.item,this.itemId)},this.onItemClick=e=>{this.props.onItemClick(e,this.item,this.itemId)},this.onPress=e=>{this.props.onPress(e.event,this.item,this.itemId)},this.onDrag=e=>{this.props.onDrag(e.event,this.item,this.itemId)},this.onRelease=e=>{this.props.onRelease(e.event,this.item,this.itemId)},this.onContextMenu=e=>{this.props.onContextMenu(e,this.item,this.itemId)},this.assignDraggableMeta=e=>{e&&(e[ki]=this.props.itemId,e[Ci]=this.props.treeGuid)}}render(){const e=this.renderSubitemsIfApplicable(),t=this.renderItemInPart();return s.createElement("li",{className:B("k-treeview-item"),tabIndex:this.tabIndex,role:"treeitem","aria-expanded":this.ariaExpanded,"aria-selected":this.ariaSelected,"aria-checked":this.ariaChecked,"aria-disabled":this.disabled?!0:void 0,ref:r=>{this.itemElement=r}},s.createElement("span",{className:`k-treeview-${this.props.position}`,ref:this.assignDraggableMeta},this.renderExpandIcon(),this.renderCheckbox(),this.props.draggable?s.createElement(Jt,{onPress:this.onPress,onDrag:this.onDrag,onRelease:this.onRelease},t):t),e&&(this.props.animate?s.createElement(Qt,{transitionEnterDuration:200,transitionExitDuration:200,style:{display:"block"},children:e}):e))}componentDidMount(){const e=this.props.focusedItemId,t=this.itemId;e&&e===t&&this.props.onFocusDomElNeeded(this.itemElement),this.checkboxElement&&(this.checkboxElement.indeterminate=this.fieldsSvc.checkIndeterminate(this.item))}componentDidUpdate(e){const t=this.props.focusedItemId;if(t&&t!==e.focusedItemId&&t===this.itemId&&this.props.onFocusDomElNeeded(this.itemElement),this.checkboxElement){const r=this.fieldsSvc.checkIndeterminate(this.item);this.checkboxElement.indeterminate!==r&&(this.checkboxElement.indeterminate=r)}}renderCheckbox(){if(this.props.checkboxes){const e=this.props.size;return s.createElement("span",{className:B("k-checkbox-wrap")},s.createElement("input",{type:"checkbox",className:B("k-checkbox k-rounded-md",{[`k-checkbox-${Fi[e]||e}`]:e,"k-disabled":this.disabled}),"aria-label":this.item.text,checked:!!this.fieldsSvc.checked(this.item),id:this.props.id,tabIndex:-1,onChange:this.onCheckChange,ref:t=>{this.checkboxElement=t}}))}}renderExpandIcon(){return this.props.expandIcons&&(this.fieldsSvc.hasChildren(this.item)||J(this.item,this.fieldsSvc.getChildrenField()))&&s.createElement("span",{className:B("k-treeview-toggle",{"k-disabled":this.disabled}),onClick:this.onExpandChange},s.createElement(De,{...this.getIconProps()}))}renderSubitemsIfApplicable(){const e=this.fieldsSvc.children(this.item);return Z(this.item,this.fieldsSvc)?s.createElement("ul",{className:"k-treeview-group",role:"group"},e.map((t,r)=>s.createElement(Pe,{item:t,position:dt(r,e),itemId:V(r,this.itemId),treeGuid:this.props.treeGuid,animate:this.props.animate,focusedItemId:this.props.focusedItemId,tabbableItemId:this.props.tabbableItemId,fieldsService:this.props.fieldsService,itemUI:this.props.itemUI,checkboxes:this.props.checkboxes,ariaMultiSelectable:this.props.ariaMultiSelectable,onItemClick:this.props.onItemClick,onFocusDomElNeeded:this.props.onFocusDomElNeeded,draggable:this.props.draggable,onPress:this.props.onPress,onDrag:this.props.onDrag,onRelease:this.props.onRelease,expandIcons:this.props.expandIcons,iconField:this.props.iconField,onExpandChange:this.props.onExpandChange,onCheckChange:this.props.onCheckChange,onContextMenu:this.props.onContextMenu,key:r,size:this.props.size,disabled:this.disabled,isRtl:this.props.isRtl}))):void 0}renderItemInPart(){const e=this.props.iconField,t=e&&this.item[e];return s.createElement("span",{className:B("k-treeview-leaf",{"k-focus":this.props.focusedItemId===this.itemId,"k-selected":this.fieldsSvc.selected(this.item),"k-disabled":this.disabled,"k-touch-action-none":this.props.draggable}),onClick:this.onItemClick,onContextMenu:this.onContextMenu},t&&s.createElement(De,{name:t.name,icon:t}),s.createElement("span",{className:"k-treeview-leaf-text"},this.props.itemUI?s.createElement(this.props.itemUI,{item:this.item,itemHierarchicalIndex:this.itemId}):this.fieldsSvc.text(this.item)))}get fieldsSvc(){return this.props.fieldsService}get itemId(){return this.props.itemId}get item(){return this.props.item}get tabIndex(){return(this.props.focusedItemId||this.props.tabbableItemId)===this.itemId?0:-1}get ariaExpanded(){return this.fieldsSvc.hasChildren(this.item)||J(this.item,this.fieldsSvc.getChildrenField())?!!this.fieldsSvc.expanded(this.item):void 0}get disabled(){return this.props.disabled||this.fieldsSvc.disabled(this.item)}get ariaChecked(){if(this.props.checkboxes)return this.fieldsSvc.checked(this.item)?"true":this.fieldsSvc.checkIndeterminate(this.item)?"mixed":"false"}get ariaSelected(){if(this.fieldsSvc.selected(this.item))return!0;if(this.props.ariaMultiSelectable)return this.disabled?void 0:!1}getIconProps(){const e=this.fieldsSvc.expanded(this.item);return e&&!J(this.item,this.fieldsSvc.getChildrenField())?{name:"loading"}:e?{name:"caret-alt-down",icon:Pt}:{name:this.props.isRtl?"caret-alt-left":"caret-alt-right",icon:this.props.isRtl?Ot:Bt}}};ht.defaultProps={position:"top",iconField:"svgIcon"};let yi=ht;const Pe=Ze(s.forwardRef((i,e)=>{const t=s.useContext(Ei).call(void 0,i);return s.createElement(yi,{ref:e,...t})}));Pe.displayName="TreeViewItem";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Si={name:"@progress/kendo-react-treeview",productName:"KendoReact",productCode:"KENDOUIREACT",productCodes:["KENDOUIREACT"],publishDate:1751375296,version:"11.2.0",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/"};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const{sizeMap:wi}=Te,Ne=class extends s.Component{constructor(e){super(e),this.state={focusedItemId:void 0,focusedItemPublicId:void 0,tabbableItemId:it},this.fieldsSvc=null,this.allowExplicitFocus=!1,this.showLicenseWatermark=!1,this._element=null,this.onFocusDomElNeeded=t=>{this.allowExplicitFocus&&this.focusDomItem(t)},this.onCheckChange=(t,r,l)=>{this.setFocus(l),this.dispatchCheckChange(t,r,l)},this.onExpandChange=(t,r,l)=>{this.setFocus(l),this.dispatchExpandChange(t,r,l)},this.onPress=(t,r,l)=>{this.props.onItemDragStart&&this.props.onItemDragStart.call(void 0,{target:this,item:r,itemHierarchicalIndex:l})},this.onDrag=(t,r,l)=>{const{pageX:h,pageY:o,clientX:m,clientY:f}=t;this.props.onItemDragOver&&this.props.onItemDragOver.call(void 0,{target:this,item:r,itemHierarchicalIndex:l,pageX:h,pageY:o,clientX:m,clientY:f})},this.onRelease=(t,r,l)=>{const{pageX:h,pageY:o,clientX:m,clientY:f}=t;this.props.onItemDragEnd&&this.props.onItemDragEnd.call(void 0,{target:this,item:r,itemHierarchicalIndex:l,pageX:h,pageY:o,clientX:m,clientY:f})},this.onItemClick=(t,r,l)=>{this.setFocus(l),this.dispatchItemClick(t,r,l)},this.onFocus=()=>{clearTimeout(this.blurRequest),this.state.focusedItemId===void 0&&this.data.length&&this.setFocus(this.state.tabbableItemId)},this.onBlur=()=>{clearTimeout(this.blurRequest),this.blurRequest=window.setTimeout(()=>this.setFocus(void 0),0)},this.onKeyDown=t=>{const r=this.getFocusedItem();if(r&&this.fieldsSvc){const l=hi(r,this.state.focusedItemId,this.data,t.keyCode,this.fieldsSvc);l!==this.state.focusedItemId&&(t.preventDefault(),this.allowExplicitFocus=!0,this.setFocus(l)),this.dispatchEventsOnKeyDown(t,r)}},this.onContextMenu=(t,r,l)=>{if(this.props.onContextMenu){const h={target:this,syntheticEvent:t,nativeEvent:t.nativeEvent,item:r,itemID:l};this.props.onContextMenu.call(void 0,h)}},this.showLicenseWatermark=!et(Si,{component:"TreeView"})}get treeGuid(){return this.props.id+"-accessibility-id"}get element(){return this._element}render(){this.fieldsSvc=new li(this.props);const{size:e,className:t}=this.props;return s.createElement("div",{id:this.props.id,style:{position:"relative",...this.props.style},className:B("k-treeview",{[`k-treeview-${wi[e]||e}`]:e,"k-user-select-none":this.props.draggable,"k-rtl":this.props.dir==="rtl"},t),onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,role:"tree","aria-multiselectable":this.ariaMultiSelectable?!0:void 0,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],ref:r=>{this._element=r},tabIndex:this.props.tabIndex},s.createElement("ul",{className:"k-treeview-lines k-treeview-group",role:"group"},this.data.map((r,l)=>s.createElement(Pe,{id:this.props.id+"-item-"+l,item:r,position:dt(l,this.data),itemId:l.toString(),treeGuid:this.treeGuid,animate:this.props.animate,focusedItemId:this.state.focusedItemId,tabbableItemId:this.state.tabbableItemId,fieldsService:this.fieldsSvc,itemUI:this.props.item,checkboxes:this.props.checkboxes,ariaMultiSelectable:this.ariaMultiSelectable,onItemClick:this.onItemClick,onFocusDomElNeeded:this.onFocusDomElNeeded,draggable:this.props.draggable,onPress:this.onPress,onDrag:this.onDrag,onRelease:this.onRelease,expandIcons:this.props.expandIcons,iconField:this.props.iconField,onExpandChange:this.onExpandChange,onCheckChange:this.onCheckChange,onContextMenu:this.onContextMenu,key:l,size:e,isRtl:this.props.dir==="rtl"}))),this.showLicenseWatermark&&s.createElement(tt,null))}componentDidUpdate(){this.allowExplicitFocus=!1,this.refocusDueToFocusIdField()}dispatchEventsOnKeyDown(e,t){if(this.fieldsSvc===null)return;const r=()=>this.fieldsSvc&&rt(this.state.focusedItemId,this.data,this.fieldsSvc);e.keyCode===c.left&&this.fieldsSvc.expanded(t)&&r()?this.dispatchExpandChange(e,t,this.state.focusedItemId):e.keyCode===c.right&&!this.fieldsSvc.expanded(t)&&(this.fieldsSvc.hasChildren(t)||J(t,this.props.childrenField))&&r()?this.dispatchExpandChange(e,t,this.state.focusedItemId):e.keyCode===c.enter&&r()?this.dispatchItemClick(e,t,this.state.focusedItemId):e.keyCode===c.space&&r()&&(e.preventDefault(),this.dispatchCheckChange(e,t,this.state.focusedItemId))}setFocus(e){if(e&&this.fieldsSvc)if(this.fieldsSvc.focusIdField){const t=this.getItemById(e);this.setState({focusedItemId:e,focusedItemPublicId:this.fieldsSvc.focusId(t)})}else this.setState({focusedItemId:e});else this.setState(t=>({focusedItemId:void 0,focusedItemPublicId:void 0,tabbableItemId:t.focusedItemId}))}getFocusedItem(){return this.state.focusedItemId?this.getItemById(this.state.focusedItemId):void 0}getItemById(e){return ge(e,this.data,this.props.childrenField||ct)}dispatchCheckChange(e,t,r){Se(this.props.onCheckChange,e,this,{item:t,itemHierarchicalIndex:r})}dispatchExpandChange(e,t,r){Se(this.props.onExpandChange,e,this,{item:t,itemHierarchicalIndex:r})}dispatchItemClick(e,t,r){Se(this.props.onItemClick,e,this,{item:t,itemHierarchicalIndex:r})}refocusDueToFocusIdField(){if(this.fieldsSvc&&this.fieldsSvc.focusIdField){const e=this.state.focusedItemPublicId;if(e){const t=this.props.getFocusHierarchicalIndex?this.props.getFocusHierarchicalIndex(e):di(e,this.fieldsSvc.focusIdField,this.data,this.props.childrenField);t!==this.state.focusedItemId&&(this.allowExplicitFocus=!0,this.setState({focusedItemId:t}))}}}get ariaMultiSelectable(){return this.props["aria-multiselectable"]===!0||this.props["aria-multiselectable"]==="true"}get data(){return this.props.data||[]}focusDomItem(e){e.focus()}get guid(){return this.treeGuid}};Ne.propTypes={data:n.arrayOf(n.any),animate:n.bool,tabIndex:n.number,focusIdField:n.string,getHierarchicalIndexById:n.func,onExpandChange:n.func,onItemClick:n.func,expandField:n.string,selectField:n.string,iconField:n.string,childrenField:n.string,hasChildrenField:n.string,textField:n.string,disableField:n.string,item:n.any,"aria-multiselectable":(i,e,t)=>i[e]!==void 0&&i[e]!==!0&&i[e]!==!1&&i[e]!=="true"&&i[e]!=="false"?new Error("Invalid prop `"+e+"` supplied to `"+t+"`. Validation failed."):null,"aria-label":n.string,"aria-labelledby":n.string,size:n.oneOf([null,"small","medium","large"]),dir:n.string},Ne.defaultProps={animate:!0,expandField:pi,selectField:vi,iconField:Ii,hasChildrenField:gi,childrenField:ct,textField:mi,disableField:fi,checkField:bi,checkIndeterminateField:xi,size:"medium"};let Di=Ne;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Re=Ze(Di);Re.displayName="KendoReactTreeView";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */function $i(i,e,t){const[r,l]=s.useState(e);return s.useEffect(()=>{r!==void 0&&i.current&&l(i.current.offsetWidth)},t),r}function we(i){return typeof i=="string"?Number(i.replace("px","")):i}function Mi(i,e,t,r){const l=we(e.popupSettings.width),h=(t.width!==void 0&&we(t.width))!==l,o=r.width!==void 0,m=h?t.width:o?r.width:l,f=we($i(i,m));return h||o?m:f&&l&&f>l?f:l}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Ni=i=>s.createElement("div",{className:"k-nodata"},s.createElement("div",null,i.children));/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Ri="Please select a value from the list!",{sizeMap:Qe,roundedMap:Ti}=Te,Pi=i=>i.split("_").map(e=>parseInt(e,10)),Oi=(i,e)=>{const{validationMessage:t,valid:r,required:l}=i;return{customError:t!==void 0,valid:!!(r!==void 0?r:!l||e),valueMissing:!e}},O={checkField:"checkField",checkIndeterminateField:"checkIndeterminateField",subItemsField:"items",popupSettings:{animate:!0,width:"200px",height:"200px"},size:"medium",rounded:"medium",fillMode:"solid",required:!1,validityStyles:!0},Bi=Wt(),Oe=s.forwardRef((i,e)=>{const t=qt(Bi,i),r=!et(Xt,{component:"MultiSelectTree"}),l=At(),h=t.id||l,{data:o=[],dataItemKey:m,style:f={},placeholder:j,label:C,name:y,validationMessage:R,valid:ve,tags:ee,value:F,opened:v,disabled:x,popupSettings:$=O.popupSettings,checkField:T=O.checkField,checkIndeterminateField:U=O.checkIndeterminateField,subItemsField:W=O.subItemsField,size:g=O.size,rounded:Q=O.rounded,fillMode:te=O.fillMode,required:Be=O.required,validityStyles:pt=O.validityStyles,onOpen:Ie=ue,onClose:ie=ue}=t,se=Kt(t.tabIndex,x),p=s.useRef(null),q=s.useRef(null),H=s.useRef(null),be=s.useRef(null),ne=s.useRef(null),A=s.useRef(null),re=s.useRef(!1),ae=s.useRef([]),le=s.useRef(null),[X,mt]=s.useState(),[ft,qe]=s.useState(!1),[S,xe]=s.useState(!1),[ke,gt]=s.useState(),[vt,It]=s.useState([]),[Ae,bt]=s.useState(""),I=v!==void 0?v:ft,Ce=!!(Array.isArray(F)&&F.length),Fe=Oi({validationMessage:R,valid:ve,required:Be},Ce),_=Zt(q,t.dir),xt={width:Mi(q,O,$,f),..._!==void 0?{direction:_}:{}},kt=s.useCallback(()=>q.current&&q.current.focus(),[]),Ke=zt(),L=!!(ke&&Ke&&ke<=Ke.medium&&t.adaptive);ae.current=ee===void 0?(F||[]).map(a=>({text:jt(a,t.textField),data:[a]})):[...ee],s.useImperativeHandle(p,()=>({props:t,element:q.current,focus:kt})),s.useImperativeHandle(e,()=>p.current);const Ct=s.useCallback(()=>{ne.current&&ne.current.setCustomValidity&&ne.current.setCustomValidity(Fe.valid?"":R===void 0?Ri:R)},[R,Fe]);s.useEffect(Ct),s.useEffect(()=>{const a=Ht&&window.ResizeObserver&&new window.ResizeObserver(Rt.bind(void 0));return document!=null&&document.body&&a&&a.observe(document.body),()=>{a&&a.disconnect()}},[]),s.useEffect(()=>{le.current&&I&&le.current.setPosition(le.current.element)},[F,I]);const K=s.useCallback((a,d,b)=>{if(t.onChange){const u={items:d,operation:b,...a};t.onChange.call(void 0,u)}},[t.onChange]),oe=s.useCallback(a=>{if(_t(a.item,F,m)||!p.current)return;const{item:d,nativeEvent:b,syntheticEvent:u}=a,G={syntheticEvent:u,nativeEvent:b,target:p.current};K(G,[d],"toggle")},[F,m,K]),de=s.useCallback(a=>{if(!I){if(Ie){const d={...a};Ie.call(void 0,d)}v===void 0&&(qe(!0),It(F||[]),L&&setTimeout(()=>{var d;E((d=be.current)==null?void 0:d.element)},300))}},[I,v,Ie,L,be]),M=s.useCallback(a=>{if(I){if(ie){const d={...a};ie.call(void 0,d)}v===void 0&&qe(!1)}},[I,v,ie]),P=s.useCallback(a=>{re.current=!0,a(),window.setTimeout(()=>re.current=!1,0)},[]),E=s.useCallback(a=>{a&&P(()=>a.focus())},[P]),Ft=s.useCallback(()=>{var a;!S&&I?M({target:p.current}):t.filterable?E((a=H.current)==null?void 0:a.element):E(A.current&&A.current.element)},[S,I,E,M,t.filterable]),Et=s.useCallback(()=>{S&&E(q.current)},[S,E]),yt=s.useCallback(a=>{if(!S&&!re.current&&(xe(!0),t.onFocus&&p.current)){const d={syntheticEvent:a,nativeEvent:a.nativeEvent,target:p.current};t.onFocus.call(void 0,d)}},[S,t.onFocus]),St=s.useCallback(a=>{if(S&&!re.current&&p.current){xe(!1);const d={syntheticEvent:a,nativeEvent:a.nativeEvent,target:p.current};if(t.onBlur){const b={...d};t.onBlur.call(void 0,b)}L||M(d)}},[S,t.onBlur,I,v,ie]),wt=s.useCallback(()=>{S&&P(ue)},[S,P]),ze=s.useCallback(a=>{if(!a.isDefaultPrevented()&&p.current){xe(!0);const d={syntheticEvent:a,nativeEvent:a.nativeEvent,target:p.current};I||de(d)}},[I,de]),Dt=s.useCallback(a=>{var d,b;const{keyCode:u,altKey:G}=a,Y=A.current&&A.current.element;if(!p.current||a.isDefaultPrevented()&&((d=H.current)==null?void 0:d.element)===a.target)return;const Ee={syntheticEvent:a,nativeEvent:a.nativeEvent,target:p.current};if(F&&F.length>0&&(u===c.left||u===c.right||u===c.home||u===c.end||u===c.delete)){const k=ae.current;let w=X?k.findIndex(Tt=>Xe(Tt,X,m)):-1,D;const ye=w!==-1;u===c.left?(ye?w=Math.max(0,w-1):w=k.length-1,D=k[w]):u===c.right?w===k.length-1?D=void 0:ye&&(w=Math.min(k.length-1,w+1),D=k[w]):u===c.home?D=k[0]:u===c.end?D=k[k.length-1]:u===c.delete&&ye&&K(Ee,k[w].data,"delete"),D!==X&&mt(D)}if(I)if(u===c.esc||G&&u===c.up)a.preventDefault(),M(Ee);else if(Y&&Y.querySelector(".k-focus")&&(u===c.up||u===c.down||u===c.left||u===c.right||u===c.home||u===c.end)){if(u===c.up&&(b=H.current)!=null&&b.element){const k=Array.from(Y.querySelectorAll(".k-treeview-item")),w=[...k].reverse().find(D=>!!(D&&D.querySelector(".k-focus")));if(w&&k.indexOf(w)===0)return P(()=>{var D;E((D=H.current)==null?void 0:D.element)})}P(ue)}else u===c.down&&P(()=>{var k;E(((k=H.current)==null?void 0:k.element)||Y)});else G&&u===c.down&&(a.preventDefault(),de(Ee))},[I,M,E,P,de,X,m,F,K]),je=s.useCallback(a=>{const{keyCode:d,altKey:b}=a;b||d!==c.up&&d!==c.down||(a.preventDefault(),P(d===c.up?()=>{E(q.current)}:()=>{E(A.current&&A.current.element)}))},[E,P]),$t=s.useCallback(a=>{if(!p.current)return;const d={syntheticEvent:a,nativeEvent:a.nativeEvent,target:p.current};K(d,[],"clear"),M(d),a.preventDefault()},[K,M]),Mt=s.useCallback((a,d)=>{var b;M({target:p.current}),S||E((b=H.current)==null?void 0:b.element),K({syntheticEvent:d,nativeEvent:d.nativeEvent,target:p.current},a,"delete")},[K,M,E,S]),He=s.useCallback(a=>{if(t.onExpandChange&&p.current){const{item:d,itemHierarchicalIndex:b,nativeEvent:u,syntheticEvent:G}=a,Y={level:Pi(b),item:d,nativeEvent:u,syntheticEvent:G,target:p.current};t.onExpandChange.call(void 0,Y)}},[t.onExpandChange]),_e=s.useCallback(a=>{if(t.onFilterChange&&p.current){const d={filter:{field:t.textField,operator:"contains",value:a.target.value},syntheticEvent:a.syntheticEvent,nativeEvent:a.nativeEvent,target:p.current};t.onFilterChange.call(void 0,d),t.filter===void 0&&bt(a.target.value)}},[t.onFilterChange,t.filter,t.textField]);s.useCallback(a=>{if(!p.current)return;const d={syntheticEvent:a,nativeEvent:a.nativeEvent,target:p.current};t.onCancel&&t.onCancel.call(void 0,d),M(d),a.preventDefault()},[t.onCancel,M]);const Nt=()=>{const a=t.filterable?s.createElement(Ge,{value:t.filter===void 0?Ae:t.filter,ref:be,onChange:_e,onKeyDown:je,size:"large",rounded:Q,fillMode:te,placeholder:j}):null,d={title:t.adaptiveTitle||t.label,subTitle:t.adaptiveSubtitle,expand:I,onClose:b=>M(b),windowWidth:ke,mobileFilter:a};return s.createElement(Gt,{...d},s.createElement(Yt,null,o.length>0?s.createElement(Re,{ref:A,tabIndex:se,data:o,focusIdField:m,textField:t.textField,checkField:T,checkIndeterminateField:U,expandField:t.expandField,childrenField:W,expandIcons:!0,onItemClick:oe,onCheckChange:oe,onExpandChange:He,checkboxes:!0,size:"large",item:t.item,dir:_}):s.createElement(Le,null,Ve.toLanguageString(pe,Ye[pe]))))},Rt=s.useCallback(a=>{for(const d of a)gt(d.target.clientWidth)},[]),Le=t.listNoData||Ni,Ve=Lt(),Ue=!pt||Fe.valid,ce=L&&I?vt:ae.current,We=s.createElement(s.Fragment,null,s.createElement("span",{className:B("k-multiselecttree k-input",t.className,{[`k-input-${Qe[g]||g}`]:g,[`k-rounded-${Ti[Q]||Q}`]:Q,[`k-input-${te}`]:te,"k-focus":S&&!x,"k-invalid":!Ue,"k-disabled":x,"k-loading":t.loading,"k-required":Be}),tabIndex:se,accessKey:t.accessKey,id:h,style:C?{...f,width:void 0}:f,dir:_,ref:q,onKeyDown:x?void 0:Dt,onMouseDown:wt,onFocus:a=>{L?ze(a):yt(a)},onBlur:St,role:"combobox","aria-haspopup":"tree","aria-expanded":I,"aria-disabled":x,"aria-label":C,"aria-labelledby":t.ariaLabelledBy,"aria-describedby":t.ariaDescribedBy?t.ariaDescribedBy:"tagslist-"+h,"aria-required":t.required,onClick:x?void 0:ze},s.createElement("div",{id:"tagslist-"+h,className:B("k-input-values k-chip-list",{[`k-chip-list-${Qe[g]||g}`]:g})},ce.length>0&&s.createElement(ii,{tag:t.tag,onTagDelete:Mt,data:ce,guid:h,focused:X?ae.current.find(a=>Xe(a,X,m)):void 0,size:g})),s.createElement("span",{className:"k-input-inner"},ce.length===0&&s.createElement("span",{className:"k-input-value-text"},j)),t.loading&&s.createElement(De,{className:"k-input-loading-icon",name:"loading"}),Ce&&!x&&ce.length>0&&s.createElement(si,{onClick:$t}),s.createElement("select",{name:y,ref:ne,tabIndex:-1,"aria-hidden":!0,title:C,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},s.createElement("option",{value:t.valueMap?t.valueMap.call(void 0,F):F})),!L&&s.createElement(Vt,{...$,popupClass:B($.popupClass,"k-multiselecttree-popup"),className:B($.className,{"k-rtl":_==="rtl"}),style:xt,anchor:$.anchor||q.current,show:I,onOpen:Ft,onClose:Et,ref:le},t.filterable&&s.createElement(Ge,{value:t.filter===void 0?Ae:t.filter,ref:H,onChange:_e,onKeyDown:je,tabIndex:se,size:g,rounded:Q,fillMode:te,renderListFilterWrapper:!0,renderPrefixSeparator:!0}),o.length>0?s.createElement(Re,{style:{height:$.height},ref:A,tabIndex:se,data:o,focusIdField:m,textField:t.textField,checkField:T,checkIndeterminateField:U,expandField:t.expandField,childrenField:W,expandIcons:!0,onItemClick:oe,onCheckChange:oe,onExpandChange:He,checkboxes:!0,size:g,item:t.item,dir:_}):s.createElement(Le,null,Ve.toLanguageString(pe,Ye[pe])),r&&s.createElement(tt,null))),L&&Nt());return C?s.createElement(Ut,{label:C,editorValue:Ce,editorPlaceholder:j,editorValid:Ue,editorDisabled:x,editorId:h,style:{width:f?f.width:void 0},children:We,dir:_}):We}),qi={opened:n.bool,disabled:n.bool,dir:n.string,tabIndex:n.number,accessKey:n.string,data:n.array,value:n.any,valueMap:n.func,placeholder:n.string,dataItemKey:n.string.isRequired,textField:n.string.isRequired,checkField:n.string,checkIndeterminateField:n.string,expandField:n.string,subItemsField:n.string,className:n.string,style:n.object,label:n.string,validationMessage:n.string,validityStyles:n.bool,valid:n.bool,required:n.bool,name:n.string,id:n.string,ariaLabelledBy:n.string,ariaDescribedBy:n.string,filterable:n.bool,filter:n.string,loading:n.bool,tags:n.arrayOf(n.shape({text:n.string,data:n.arrayOf(n.any)})),popupSettings:n.shape({animate:n.oneOfType([n.bool,n.shape({openDuration:n.number,closeDuration:n.number})]),popupClass:n.string,className:n.string,appendTo:n.any,width:n.oneOfType([n.string,n.number]),height:n.oneOfType([n.string,n.number])}),onOpen:n.func,onClose:n.func,onFocus:n.func,onBlur:n.func,onChange:n.func,onFilterChange:n.func,onExpandChange:n.func,onCancel:n.func,item:n.func,listNoData:n.func,adaptiveTitle:n.string,adaptiveSubtitle:n.string,adaptive:n.bool};Oe.displayName="KendoReactMultiSelectTree";Oe.propTypes=qi;const ut=({data:i,isFilterable:e,multiSelectBy:t,selected:r,dataItemKey:l,textField:h})=>{const[o,m]=s.useState(r),[f,j]=s.useState(null),C="checkField",y="Select All",R=v=>{console.log("valuee",o);const x=o.some(g=>typeof g=="object"&&typeof g!=null&&g.text===y),$=v.items.some(g=>typeof g=="object"&&typeof g!=null&&g.text===y);let T=ti(i,{dataItemKey:l,value:o,items:v.items,operation:v.operation});const U=o.length,W=T.length;x&&$?T=[]:!x&&$?T=i:W<U&&U===i.length&&x?T=T.filter(g=>typeof g=="object"&&typeof g!=null&&g.text!==y):W>U&&!x&&!$&&W===i.length-1&&(T=i),m(T)},ve=v=>j(v.filter),ee=v=>{const{item:x}=v,$=x[C];return he.jsx("span",{className:$?"checked":"",children:x[h]})},F=s.useMemo(()=>ei(i,{dataItemKey:l,checkField:C,value:o,filter:f}),[i,o,f]);return he.jsxs("div",{children:[he.jsx("p",{children:t}),he.jsx(Oe,{className:" custom-Multiselect text-[#4365d8]",style:{height:"50%",width:"12rem"},data:F,dataItemKey:l,textField:h,filterable:e,value:o,item:ee,opened:!0,placeholder:"All",onFilterChange:ve,onChange:R,tags:o.length>0?[{text:o.length>1?o.some(v=>typeof v=="object"&&typeof v!=null&&v.text===y)?`${o.length-1} items`:`${o.length} items`:o.length>0&&typeof o[0]=="object"?o[0].text:"All",data:[...o]}]:void 0})]})};ut.__docgenInfo={description:"",methods:[],displayName:"MultiSelectSearchTree",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(string | number | { [key: string]: string | number | boolean })[]"},description:""},selected:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:`(
  | string
  | number
  | { [key: string]: string | number | boolean; text: string }
)[]`},description:""},isFilterable:{required:!0,tsType:{name:"boolean"},description:""},multiSelectBy:{required:!0,tsType:{name:"string"},description:""},textField:{required:!0,tsType:{name:"string"},description:""},dataItemKey:{required:!0,tsType:{name:"string"},description:""}}};const Gi={title:"Stories/MultiSelectSearchTree",component:ut,tags:["autodocs"],parameters:{layout:"centered"}},Ai=[{text:"Select All",id:9999},{text:"Furniture",id:1},{text:"Decor",id:5},{text:"Electronics",id:9},{text:"Appliances",id:10},{text:"Lighting",id:11},{text:"Outdoor",id:12},{text:"Kitchenware",id:13},{text:"Storage",id:14},{text:"Office",id:15},{text:"Kids",id:16},{text:"Bedding",id:17},{text:"Bath",id:18}],me={args:{multiSelectBy:"view By",dataItemKey:"id",textField:"text",data:Ai,selected:[],isFilterable:!0}};me.parameters={...me.parameters,docs:{...me.parameters?.docs,source:{originalSource:`{
  args: {
    multiSelectBy: "view By",
    dataItemKey: "id",
    textField: "text",
    data: data as [],
    selected: [],
    isFilterable: true
  }
} satisfies Story`,...me.parameters?.docs?.source}}};const Yi=["Default"];export{me as Default,Yi as __namedExportsOrder,Gi as default};
