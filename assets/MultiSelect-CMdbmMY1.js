import{j as re}from"./index-7RzhngGT.js";import{r,R as Q}from"./iframe-DPp1OFKI.js";import{az as de,bg as ae,am as he,a as g,bG as pe,a1 as x,ad as ue,ac as U,aB as F,bE as W,e as m,aP as V,ab as ce,aq as oe,_ as ve,a4 as me,bH as X,ay as ge,an as fe,U as be,a$ as ye,b0 as Ie,a8 as xe,as as $,av as I,aw as A,bI as R,aC as j,aS as ke,ar as G,aE as Ce,aF as Se,aD as we,aJ as Ee,aG as De,aH as Fe,aL as Me,b as Z,at as Te,au as _e,bJ as Ke,bK as ee,ag as Oe,aI as Re}from"./data-CayBImD9.js";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Ne=i=>r.forwardRef((n,e)=>{const t=de();return r.createElement(i,{...n,ref:e,_adaptiveMode:t})});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Pe=Q.createContext([null,i=>{}]),Be=Q.createContext([null,i=>{}]),ze=Q.createContext([null,i=>{}]);/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */var T=(i=>(i.next="next",i.prev="prev",i.current="current",i.reset="reset",i))(T||{});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */var ne=(i=>(i.remove="remove",i.add="add",i.reorder="reorder",i))(ne||{});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */var P=(i=>(i.toggle="toggle",i.remove="remove",i))(P||{});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Y=r.forwardRef((i,n)=>{const e=r.useRef(null),t=r.useRef(null),{disabled:a=w.disabled,fillMode:s=w.fillMode,themeColor:l=w.themeColor,size:h=w.size,rounded:c=w.rounded,dir:d=w.dir,removeIcon:o=w.removeIcon,removeSvgIcon:u=w.removeSvgIcon,removable:f=w.removable}=i,p=he(t,d);r.useImperativeHandle(e,()=>({element:t.current,props:i})),r.useImperativeHandle(n,()=>e.current);const[v,b]=r.useContext(Pe),[C,S]=r.useContext(Be),[,E]=r.useContext(ze),D=r.useMemo(()=>i.selected||(Array.isArray(v)?v.some(y=>y===i.value):v===i.value),[i.selected,i.value,v]),k=r.useMemo(()=>C===i.value,[i.value,C]);r.useEffect(()=>{k&&t.current&&t.current.focus()},[k]);const K=r.useCallback(y=>{b({type:P.toggle,payload:i.value,event:y})},[b,i.value]),M=r.useCallback(y=>{f&&(E({type:ne.remove,payload:i.value,event:y}),S({type:T.reset,payload:i.value,event:y}),b({type:P.remove,payload:i.value,event:y}),i.onRemove&&i.onRemove.call(void 0,{target:e.current,syntheticEvent:y}))},[i.onRemove,i.value,f,E,S,b]),z=r.useCallback(y=>{switch(y.keyCode){case g.left:S({type:T.prev,payload:i.value,event:y});break;case g.right:S({type:T.next,payload:i.value,event:y});break;case g.enter:b({type:P.toggle,payload:i.value,event:y});break;case g.delete:M(y);break}i.onKeyDown&&i.onKeyDown.call(void 0,{target:e.current,syntheticEvent:y})},[i.onKeyDown,i.value,S,b,M]),L=r.useCallback(y=>{S({payload:i.value,type:T.current,event:y}),i.onFocus&&i.onFocus.call(void 0,{target:e.current,syntheticEvent:y})},[i.onFocus,i.value,S]),H=r.useCallback(y=>{i.onBlur&&i.onBlur.call(void 0,{target:e.current,syntheticEvent:y})},[i.onBlur]),q=pe(i,e,{onClick:K});return r.createElement("div",{...q,role:i.role||"button",id:i.value,style:i.style,ref:t,dir:p,tabIndex:ue(i.tabIndex,a),className:x("k-chip",{"k-rtl":p==="rtl","k-disabled":a,"k-selected":D,"k-focus":k,[`k-chip-${U.sizeMap[h]||h}`]:h,[`k-rounded-${U.roundedMap[c]||c}`]:c,[`k-chip-${s}`]:s,[`k-chip-${s}-${l}`]:!!(s&&l)},i.className),"aria-pressed":i.role?void 0:D,"aria-disabled":a,"aria-describedby":i.ariaDescribedBy,"aria-keyshortcuts":f?"Enter Delete":void 0,onFocus:L,onBlur:H,onKeyDown:z},D&&(i.selectedIcon||i.selectedSvgIcon)&&r.createElement(F,{className:"k-chip-icon",name:i.selectedIcon?W(i.selectedIcon):void 0,icon:i.selectedSvgIcon,size:"small"}),(i.icon||i.svgIcon)&&r.createElement(F,{className:"k-chip-icon",name:i.icon?W(i.icon):void 0,icon:i.svgIcon,size:"small"}),i.avatar&&r.createElement("div",{className:`k-chip-avatar k-avatar k-rounded-${i.avatar.rounded} k-avatar-md k-avatar-solid k-avatar-solid-primary`,style:i.avatar.style},r.createElement("span",{className:"k-avatar-image"},r.createElement("img",{src:i.avatar.image,alt:i.avatar.imageAlt}))),r.createElement("span",{className:"k-chip-content"},i.children!==void 0?i.children:i.text&&r.createElement("span",{"aria-label":i.ariaLabel||i.text,className:"k-chip-label"},i.text)),f&&r.createElement("span",{className:"k-chip-actions"},r.createElement("span",{className:x("k-chip-action","k-chip-remove-action"),onClick:M},r.createElement(F,{name:o?W(o):void 0,icon:u||ae,size:"small"}))))}),Le={id:m.string,text:m.string,value:m.any,dir:m.oneOf(["ltr","rtl"]),removable:m.bool,removeIcon:m.string,removeIconSvg:V,disabled:m.bool,icon:m.string,svgIcon:V,selectedIcon:m.string,selectedIconSvg:V,onRemove:m.func,dataItem:m.any,selected:m.bool,ariaDescribedBy:m.string,size:m.oneOf([null,"small","medium","large"]),rounded:m.oneOf([null,"small","medium","large","full"]),fillMode:m.oneOf([null,"outline","solid"]),themeColor:m.oneOf([null,"base","info","success","warning","error"])},w={disabled:!1,removable:!1,removeIcon:"k-i-x-circle",removeSvgIcon:ae,dir:"ltr",size:"medium",rounded:"medium",fillMode:"solid",themeColor:"base"};Y.displayName="KendoReactChip";Y.propTypes=Le;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */let He=class extends r.Component{constructor(){super(...arguments),this._input=null}get input(){return this._input}componentDidUpdate(n){const e=n.value,t=n.suggestedText,{value:a,suggestedText:s,focused:l}=this.props,h=this.input,c=e!==a||s!==t,d=c&&e.startsWith(a)&&!(t&&s&&t.endsWith(s)),o=ce(document);l&&h&&o!==h&&h.focus(),s&&c&&!d&&h&&h.setSelectionRange(a.length-s.length,a.length)}render(){const{expanded:n=!1,disabled:e,role:t="listbox",render:a,tabIndex:s,accessKey:l,unstyled:h,inputAttributes:c}=this.props,d=h&&h.uDropDownsBase,o={tabIndex:s,accessKey:l},u=r.createElement("input",{autoComplete:"off",id:this.props.id,type:"text",key:"searchbar",size:this.props.size,placeholder:this.props.placeholder,className:x(oe.inputInner({c:d})),role:t,name:this.props.name,value:this.props.value,onChange:this.props.onChange,ref:f=>{this._input=f},onKeyDown:this.props.onKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onClick:this.props.onClick,"aria-disabled":e||void 0,disabled:e||void 0,readOnly:this.props.readOnly||void 0,title:this.props.title,"aria-haspopup":"listbox","aria-expanded":n,"aria-owns":this.props.owns,"aria-activedescendant":n?this.props.activedescendant:void 0,"aria-describedby":this.props.ariaDescribedBy,"aria-labelledby":this.props.ariaLabelledBy,"aria-label":this.props.ariaLabel,"aria-required":this.props.ariaRequired,"aria-controls":this.props.ariaControls,...Object.assign({},o,c)});return a?a.call(void 0,u):u}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const qe=i=>{const n=ve(),e=me(),t=e&&e.uDropDownsBase,a=n.toLanguageString(X,ge[X]),s=l=>l.preventDefault();return r.createElement("span",{className:x(oe.clearButton({c:t})),role:"button",onClick:i.onClick,onMouseDown:s,tabIndex:-1,title:a,key:"clearbutton"},r.createElement(F,{name:"x",icon:fe}))};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const te=be;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const We=i=>i.syntheticEvent.preventDefault(),Ve=i=>i.syntheticEvent.stopPropagation();class Ae extends r.Component{render(){const{data:n,guid:e,focused:t,tagRender:a,tag:s,onTagDelete:l,size:h}=this.props;return r.createElement(r.Fragment,null,n.map((c,d)=>{const o=s?r.createElement(s,{key:c.text+d,tagData:c,guid:e,focusedTag:t,onTagDelete:l}):r.createElement(Y,{id:`tag-${e}-${c.text.replace(/\s+/g,"-")}`,"aria-selected":!0,role:"option","aria-setsize":n.length,key:c.text+d,text:c.text,removable:!0,onRemove:u=>l.call(void 0,c.data,u.syntheticEvent),onMouseDown:We,onClick:Ve,className:c===t?"k-focus":void 0,size:h});return a?a(c,o):o}),this.props.children)}}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */var _=(i=>(i[i.PopupList=0]="PopupList",i[i.TagsList=1]="TagsList",i))(_||{});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const{sizeMap:N,roundedMap:je}=U,Ge="Please enter a valid value!",se=i=>i.preventDefault(),ie=i=>i===2,B=class J extends r.Component{constructor(n){super(n),this.state={activedescendant:_.PopupList,currentValue:[]},this._element=null,this._valueItemsDuringOnChange=null,this.base=new $(this),this._tags=[],this._input=null,this._adaptiveInput=null,this._skipFocusEvent=!1,this._lastSelectedOrDeslectedItemIndex=null,this.itemHeight=0,this.scrollToFocused=!1,this.showLicenseWatermark=!1,this.focus=()=>{this._input&&this._input.focus()},this.handleItemSelect=(e,t)=>{const{dataItemKey:a,virtual:s}=this.props,l=I(this.props),h=s?s.skip:0,c=l[e-h],d=this.value.findIndex(u=>A(u,c,a));this._lastSelectedOrDeslectedItemIndex=l.findIndex(u=>A(u,c,a));let o=[];d!==-1?(o=this.value,o.splice(d,1)):o=[...this.value,c],(this.props.filter!==void 0?this.props.filter:this.state.text)&&!this.mobileMode&&(this.state.text&&(t.data.text=""),this.base.filterChanged("",t)),this._adaptiveInput&&this._adaptiveInput.blur(),this.state.focusedIndex!==void 0&&(t.data.focusedIndex=void 0),this.triggerOnChange(o,t),this.base.triggerPageChangeCornerItems(c,t)},this.onTagDelete=(e,t)=>{const a=this.base.initState();a.syntheticEvent=t,this.opened&&this.base.togglePopup(a),!this.state.focused&&!this.mobileMode&&(a.data.focused=!0,this.focus());const s=this.value;R(s,e,this.props.dataItemKey),this.triggerOnChange(s,a),this.applyState(a)},this.itemFocus=(e,t)=>{const{allowCustom:a,virtual:s}=this.props,l=I(this.props),h=s?s.skip:0,c=this.props.filter!==void 0?this.props.filter:this.state.text,{focusedIndex:d}=this.getFocusedState(),o=a&&c,u=l[e-h];u&&d!==e?this.state.focusedIndex!==e&&(t.data.focusedIndex=e,t.data.activedescendant=_.PopupList):o&&e===-1&&this.state.focusedIndex!==void 0&&(t.data.focusedIndex=void 0),this.base.triggerPageChangeCornerItems(u,t)},this.componentRef=e=>{this._element=e,this.base.wrapper=e},this.searchbarRef=e=>{const t=this._input=e&&e.input;t&&this.state.focused&&window.setTimeout(()=>t.focus(),0)},this.onChangeHandler=e=>{const t=this.base.initState(),a=e.target.value;t.syntheticEvent=e,this.props.filter===void 0&&(t.data.text=a),t.data.focusedIndex=void 0,this.opened||(this.base.togglePopup(t),this.setState({currentValue:this.value})),this.base.filterChanged(a,t),this.applyState(t),this.setState({group:void 0})},this.clearButtonClick=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),this.value.length>0&&this.triggerOnChange([],t),this.state.focusedIndex!==void 0&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t);const a=this.props.filter!==void 0?this.props.filter:this.state.text;j(a)&&a!==""&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this._lastSelectedOrDeslectedItemIndex=null,this.applyState(t)},this.onInputKeyDown=e=>{const{textField:t,groupField:a}=this.props,s=I(this.props),l=e.keyCode,h=this.props.filter!==void 0?this.props.filter:this.state.text,c=this.props.opened!==void 0?this.props.opened:this.state.opened,{focusedItem:d,focusedIndex:o}=this.getFocusedState(),u=this.base.initState();if(u.syntheticEvent=e,!h&&this.value.length>0&&(l===g.left||l===g.right||l===g.home||l===g.end||l===g.delete||l===g.backspace)&&!e.shiftKey)return this.onTagsNavigate(e,u);const f=()=>{e.preventDefault(),this.base.togglePopup(u),this.applyState(u)};if(this.opened)if(l===g.pageUp)e.preventDefault(),this.base.scrollPopupByPageSize(-1);else if(l===g.pageDown)e.preventDefault(),this.base.scrollPopupByPageSize(1);else if((e.ctrlKey||e.metaKey)&&e.code==="KeyA"){const p=(this.state.value&&this.state.value.length)===s.length?[]:s;this.updateStateOnKeyboardNavigation(p,u)}else if((e.ctrlKey||e.metaKey)&&e.shiftKey&&e.keyCode===g.end){const p=s.slice(this.getFocusedState().focusedIndex);this.itemFocus(s.length-1,u),this.updateStateOnKeyboardNavigation(p,u)}else if((e.ctrlKey||e.metaKey)&&e.shiftKey&&e.keyCode===g.home){const p=s.slice(0,this.getFocusedState().focusedIndex+1);this.itemFocus(0,u),this.updateStateOnKeyboardNavigation(p,u)}else if(e.shiftKey&&e.keyCode===g.up){let p;const v=this.getLastSelectedOrDeselectedIndex(1,o);v===null?p=o!==0?s.slice(o-1,o):[s[o]]:v===o?p=[s[v-1]]:o>=0&&(p=v>o?s.slice(o-1,v):s.slice(v-1,o)),p&&p.length>0&&(o>=1&&this.itemFocus(o-1,u),this.updateStateOnKeyboardNavigation(p,u))}else if(e.shiftKey&&e.keyCode===g.down){let p;const v=this.getLastSelectedOrDeselectedIndex(0,o);v===null?p=o!==s.length-1?s.slice(o,o+1):[s[o]]:v===o?p=s.slice(o,o+2):o>=0&&(p=v>o?s.slice(o+1,v+1):s.slice(v,o+2)),p&&p.length>=1&&(this.itemFocus(o+1,u),this.updateStateOnKeyboardNavigation(p,u))}else if(e.altKey&&l===g.up)f();else if(l===g.up||l===g.down){if(a!==""&&t)if(!this.props.skipDisabledItems&&c)this.onNavigate(u,l);else{let p=0;if(l===g.down||l===g.right){const v=s.slice(o+1).find(b=>!b.disabled&&b[t]);p=v&&s.findIndex(b=>b[t]===v[t])}else if(l===g.up||l===g.left){let v;if(o===-1)v=s,p=s.findIndex(b=>!b.disabled&&b[t]);else{v=s.slice(0,o);let b=v.pop();for(;b&&b.disabled;)b=v.pop();p=b&&s.findIndex(C=>C[t]===b[t])}}if(p){const v=p-o;this.onNavigate(u,l,v)}else p!==void 0&&this.onNavigate(u,l)}else if(!this.props.skipDisabledItems&&c)this.onNavigate(u,l);else{let p=null;if(l===g.down||l===g.right)p=s.slice(o+1).find(v=>!v.disabled);else if(l===g.up||l===g.left){const v=s.slice(0,o);for(p=v.pop();p&&p.disabled;)p=v.pop()}if(p){const v=p.id-o-1;this.onNavigate(u,l,v)}else this.onNavigate(u,l)}this.applyState(u),e.preventDefault()}else l===g.enter?(e.preventDefault(),this.props.allowCustom&&h&&d===null?this.customItemSelect(e):d&&d.disabled?f():this.selectFocusedItem(e)):l===g.esc&&f();else e.altKey&&l===g.down?f():l===g.esc&&this.clearButtonClick(e)},this.listContainerContent=()=>{const{header:e,footer:t,allowCustom:a,size:s,groupStickyHeaderItemRender:l,groupField:h,list:c}=this.props,d=I(this.props),o=this.props.filter!==void 0?this.props.filter:this.state.text,{focusedType:u}=this.getFocusedState(),f=a&&o&&r.createElement("div",{className:x("k-list",{[`k-list-${N[s]||s}`]:s}),key:"customitem",onClick:this.customItemSelect,onMouseDown:se},r.createElement("div",{className:x("k-list-item k-custom-item",{"k-focus":ie(u)}),style:{fontStyle:"italic"}},o,r.createElement(F,{name:"plus",icon:ke,style:{position:"absolute",right:"0.5em"}})));let{group:p}=this.state;return p===void 0&&h!==void 0&&(p=G(d[0],h)),r.createElement(r.Fragment,null,e&&r.createElement("div",{className:"k-list-header"},e),f,r.createElement("div",{className:x("k-list",{[`k-list-${this.mobileMode?"lg":N[s]||s}`]:s,"k-virtual-list":this.base.vs.enabled})},!c&&p&&d.length!==0&&r.createElement(Ce,{group:p,groupMode:"modern",render:l}),this.renderList()),this.showLicenseWatermark&&r.createElement(Se,null),t&&r.createElement("div",{className:"k-list-footer"},t))},this.renderListContainer=()=>{const e=this.base,{dir:t}=this.props,a=I(this.props),s=this.base.getPopupSettings(),l=s.width!==void 0?s.width:e.popupWidth,h={dir:t!==void 0?t:e.dirCalculated,width:l,popupSettings:{...s,popupClass:x(s.popupClass,"k-list-container","k-multiselect-popup"),anchor:s.anchor||this.element,show:this.opened,onOpen:this.onPopupOpened,onClose:this.onPopupClosed},itemsCount:[a.length,this.value.length]};return r.createElement(we,{...h},this.listContainerContent())},this.renderAdaptiveListContainer=()=>{const{adaptiveTitle:e,adaptiveSubtitle:t,filterable:a,filter:s}=this.props,{windowWidth:l=0}=this.state,h=s!==void 0?s:this.state.text,c=a?r.createElement(Ee,{value:h,ref:o=>{this._adaptiveInput=o&&o.element},onChange:this.onChangeHandler,onKeyDown:this.onInputKeyDown,size:"large",rounded:this.props.rounded,fillMode:this.props.fillMode,placeholder:this.props.placeholder}):null,d={title:e||this.props.label,subTitle:t,expand:this.opened,onClose:o=>this.closePopup(o),windowWidth:l,mobileFilter:c};return r.createElement(De,{...d},r.createElement(Fe,null,r.createElement("div",{className:"k-list-container"},this.listContainerContent())))},this.closePopup=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),this.state.focusedIndex!==void 0&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t),t.events.push({type:"onClose"});const a=this.props.filter!==void 0?this.props.filter:this.state.text;j(a)&&a!==""&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this.applyState(t)},this.onCancel=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),this.state.focusedIndex!==void 0&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t),t.events.push({type:"onCancel"});const a=this.props.filter!==void 0?this.props.filter:this.state.text;j(a)&&a!==""&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this.applyState(t)},this.renderList=()=>{const{textField:e,listNoDataRender:t,itemRender:a,groupHeaderItemRender:s,dataItemKey:l,virtual:h={skip:0,total:void 0}}=this.props,c=I(this.props),d=this.base.vs,{focusedIndex:o}=this.getFocusedState(),u=this.base.getPopupSettings(),f=`translateY(${d.translate}px)`;return r.createElement(Me,{id:this.base.listBoxId,show:this.opened,data:c.slice(),focusedIndex:o-h.skip,value:this.value,textField:e,valueField:l,optionsGuid:this.base.guid,groupField:this.props.groupField,groupMode:"modern",listRef:p=>{d.list=this.base.list=p},wrapperStyle:this.mobileMode?{}:{maxHeight:u.height},wrapperCssClass:"k-list-content",listStyle:d.enabled?{transform:f}:void 0,key:"listKey",skip:h.skip,onClick:this.handleItemClick,itemRender:a,groupHeaderItemRender:s,noDataRender:t,onMouseDown:se,onBlur:this.handleBlur,onScroll:this.onScroll,wrapperRef:d.scrollerRef,scroller:this.base.renderScrollElement(),ariaSetSize:h.total})},this.onScroll=e=>{const{vs:t,list:a}=this.base;t.scrollHandler(e);const{groupField:s}=this.props;let l=I(this.props);if(!(!s||!l.length)&&s){const h=this.itemHeight=this.itemHeight||(t.enabled?t.itemHeight:a?a.children[0].offsetHeight:0),c=e.target.scrollTop-t.skip*h;l=this.base.getGroupedDataModernMode(l,s);let d=l[0][s];for(let o=1;o<l.length&&!(h*o>c);o++)l[o]&&l[o][s]&&(d=l[o][s]);d!==this.state.group&&this.setState({group:d})}},this.customItemSelect=e=>{const t=this.props.filter!==void 0?this.props.filter:this.state.text,{textField:a}=this.props;if(!t)return;const s=this.base.initState();s.syntheticEvent=e;const l=a?{[a]:t}:t;this.state.text!==void 0&&(s.data.text=""),s.data.focusedIndex=void 0,this.base.filterChanged("",s);const h=[...this.value,l];this.triggerOnChange(h,s),this.base.togglePopup(s),this.applyState(s)},this.handleWrapperClick=e=>{const t=this._input;!this.opened&&t&&this.focusElement(t);const a=this.base.initState();a.syntheticEvent=e,!this.state.focused&&!this.mobileMode&&(a.events.push({type:"onFocus"}),a.data.focused=!0),this.mobileMode&&(this.setState({currentValue:this.tagsToRender}),this.mobileMode&&window.setTimeout(()=>this._adaptiveInput&&this._adaptiveInput.focus(),300)),this.base.togglePopup(a),this.applyState(a)},this.handleItemClick=(e,t)=>{const a=this.base.initState();a.syntheticEvent=t,this.handleItemSelect(e,a),this.props.autoClose&&this.base.togglePopup(a),t.stopPropagation(),this.applyState(a)},this.handleBlur=e=>{if(!this.state.focused||this._skipFocusEvent)return;const t=this.base.initState(),{allowCustom:a,filterable:s}=this.props;t.syntheticEvent=e,t.data.focused=!1,t.events.push({type:"onBlur"}),this.opened&&!this.mobileMode&&(this.state.opened&&(t.data.opened=!1),t.events.push({type:"onClose"})),!a&&!s&&this.state.text&&(t.data.text=""),this.applyState(t)},this.handleFocus=e=>{this._skipFocusEvent||this.base.handleFocus(e)},this.onPopupOpened=()=>{this._input&&this.state.focused&&!this.mobileMode&&this.focusElement(this._input)},this.onPopupClosed=()=>{this.state.focused&&window.setTimeout(()=>{this.state.focused&&this.focusElement(this._input)},0)},this.setValidity=()=>{this._input&&this._input.setCustomValidity&&this._input.setCustomValidity(this.validity.valid?"":this.props.validationMessage||Ge)},this.validate(n)}get _inputId(){return this.props.id}get document(){if(Z)return this.element&&this.element.ownerDocument||document}validate(n){if(n.filterable||n.virtual){const e=[];n.filterable&&e.push("filterable"),n.virtual&&e.push("virtualization"),this.showLicenseWatermark=!Te(_e,{component:"MultiSelect",features:e})}}get element(){return this._element}get opened(){return!!(this.props.opened!==void 0?this.props.opened:this.state.opened)}get tagsToRender(){const{tags:n,textField:e}=this.props,t=[];return n===void 0?this.value.forEach(a=>{t.push({text:G(a,e),data:[a]})}):t.push(...n),t}get mobileMode(){var n;return!!(this.state.windowWidth&&this.props._adaptiveMode&&this.state.windowWidth<=((n=this.props._adaptiveMode)==null?void 0:n.medium)&&this.props.adaptive)}get value(){const n=[];return this._valueItemsDuringOnChange?n.push(...this._valueItemsDuringOnChange):this.props.value?n.push(...this.props.value):this.state.value?n.push(...this.state.value):this.props.defaultValue&&n.push(...this.props.defaultValue),n}get name(){return this.props.name}get validity(){const n=this.props.validationMessage!==void 0,e=!this.required||this.value!==null&&this.value.length>0&&this.value!==void 0,t=this.props.valid!==void 0?this.props.valid:e;return{customError:n,valid:t,valueMissing:this.value===null}}get required(){return this.props.required!==void 0?this.props.required:J.defaultProps.required}get validityStyles(){return this.props.validityStyles!==void 0?this.props.validityStyles:J.defaultProps.validityStyles}componentDidUpdate(n,e){var t;const{virtual:a,groupField:s=""}=this.props,l=I(this.props),h=a?a.skip:0,c=n.virtual?n.virtual.total:0,d=n.opened!==void 0?n.opened:e.opened,o=!d&&this.opened,u=d&&!this.opened,f=this.base.getPopupSettings();if(this.validate(this.props),this.base.didUpdate(),!f.animate&&u&&this.onPopupClosed(),a&&a.total!==c)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{let{focusedItem:p,focusedIndex:v}=this.getFocusedState();s!==""&&(v=(t=this.base.getGroupedDataModernMode(l,s))==null?void 0:t.indexOf(p)),o&&a?this.base.scrollToVirtualItem(a,v-h):o&&!a?(l&&l.length!==0&&this.base.resetGroupStickyHeader(l[0][s],this),this.base.scrollToItem(v)):this.opened&&d&&p&&this.scrollToFocused&&this.base.scrollToItem(v-h)}this.scrollToFocused=!1,this.setValidity()}componentDidMount(){var n;this.observerResize=Z&&window.ResizeObserver&&new window.ResizeObserver(this.calculateMedia.bind(this)),this.base.didMount(),this.setValidity(),(n=this.document)!=null&&n.body&&this.observerResize&&this.observerResize.observe(this.document.body)}componentWillUnmount(){var n;(n=this.document)!=null&&n.body&&this.observerResize&&this.observerResize.disconnect()}onNavigate(n,e,t){const{allowCustom:a}=this.props,s=I(this.props),l=this.props.filter!==void 0?this.props.filter:this.state.text,{focusedType:h,focusedIndex:c}=this.getFocusedState(),d=a&&l,o=ie(h),u=this.base,f=u.vs;if(this.opened&&e===g.up&&o)this.state.focusedIndex!==void 0&&(n.data.focusedIndex=void 0);else{const p=u.navigation.navigate({keyCode:e,current:c,max:(f.enabled?f.total:s.length)-1,min:d?-1:0,skipItems:t||void 0});p!==void 0&&(this.itemFocus(p,n),this.scrollToFocused=!0)}this.applyState(n)}render(){const{style:n,className:e,label:t,dir:a,disabled:s,textField:l,dataItemKey:h,virtual:c,size:d,rounded:o,fillMode:u,loading:f,filter:p}=this.props,{text:v,focused:b,focusedTag:C,currentValue:S}=this.state,E=this.base.vs,D=this.props.id||this._inputId;E.enabled=c!==void 0,c!==void 0&&(E.skip=c.skip,E.total=c.total,E.pageSize=c.pageSize);const k=this.mobileMode&&this.opened?S:this.tagsToRender;this.setItems(this.tagsToRender,this._tags);const K=!this.validityStyles||this.validity.valid,M=!!(p!==void 0?p:v)||k&&k.length>0,[z,L]=te(this.props.prefix||r.Fragment),[H,q]=te(this.props.suffix||r.Fragment),y=r.createElement(r.Fragment,null,r.createElement("div",{ref:this.componentRef,className:x("k-multiselect k-input",e,{[`k-input-${N[d]||d}`]:d,[`k-rounded-${je[o]||o}`]:o,[`k-input-${u}`]:u,"k-focus":b&&!s,"k-invalid":!K,"k-disabled":s,"k-loading":f,"k-required":this.required}),style:t?{...n,width:void 0}:n,dir:a,onFocus:O=>{this.mobileMode?this.handleWrapperClick(O):this.handleFocus(O)},onBlur:this.handleBlur,onClick:this.handleWrapperClick,onMouseDown:Ke},this.props.prefix&&r.createElement(z,{...L}),r.createElement("div",{className:x("k-input-values")},r.createElement("div",{className:x("k-chip-list",{[`k-chip-list-${N[d]||d}`]:d}),role:"listbox",id:"tagslist-"+this.base.guid},k&&k.length>0&&r.createElement(Ae,{tagRender:this.props.tagRender,onTagDelete:this.onTagDelete,data:k,guid:this.base.guid,focused:C?k.find(O=>ee(O,C,h)):void 0,size:d})),this.renderSearchBar(D)),f&&r.createElement(F,{className:"k-input-loading-icon",name:"loading"}),this.props.suffix&&r.createElement(H,{...q}),M&&r.createElement(qe,{onClick:this.clearButtonClick}),!this.mobileMode&&this.renderListContainer()),this.mobileMode&&this.renderAdaptiveListContainer());return t?r.createElement(Oe,{label:t,editorId:D,editorValue:v||G(this.value[0],l),editorValid:K,editorDisabled:s,style:{width:n?n.width:void 0},children:y}):y}renderSearchBar(n){const{activedescendant:e,focusedTag:t,currentValue:a}=this.state,{disabled:s,placeholder:l,ariaDescribedBy:h,ariaLabelledBy:c,ariaLabel:d,inputAttributes:o}=this.props,u=!this.mobileMode&&(this.props.filter!==void 0?this.props.filter:this.state.text)||"",{focusedIndex:f}=this.getFocusedState(),p=this.value.length===0&&!u?l:void 0,v=a&&a.length>0?void 0:l,b=e===_.TagsList&&t!==void 0?`tag-${this.base.guid}-${t.text.replace(/\s+/g,"-")}`:`option-${this.base.guid}-${f}`,C={accessKey:this.props.accessKey,tabIndex:this.props.tabIndex};return r.createElement(He,{id:n,size:Math.max((p||"").length,u.length,1),placeholder:this.mobileMode&&this.opened?v:p,value:u,onChange:this.onChangeHandler,onKeyDown:this.onInputKeyDown,ref:this.searchbarRef,disabled:s,expanded:this.opened,owns:this.base.listBoxId,role:"combobox",activedescendant:b,ariaDescribedBy:`tagslist-${this.base.guid}${h?" "+h:""}`,ariaLabelledBy:c,ariaRequired:this.required,ariaLabel:d,inputAttributes:o,...C})}onTagsNavigate(n,e){const t=n.keyCode,{focusedTag:a}=this.state,s=this._tags,l=this.props.dataItemKey;let h=a?s.findIndex(o=>ee(o,a,l)):-1,c;const d=h!==-1;if(t===g.left)d?h=Math.max(0,h-1):h=s.length-1,c=s[h];else if(t===g.right)h===s.length-1?c=void 0:d&&(h=Math.min(s.length-1,h+1),c=s[h]);else if(t===g.home&&!n.shiftKey)c=s[0];else if(t===g.end&&!n.shiftKey)c=s[s.length-1];else if(t===g.delete){if(d){const o=this.value;R(o,s[h].data,l),this.triggerOnChange(o,e)}}else if(t===g.backspace){const o=this.value;if(d)R(o,s[h].data,l),this.triggerOnChange(o,e);else if(!d&&s.length){const u=s.pop();R(o,u.data,l),this.triggerOnChange(o,e)}}c!==a&&(e.data.focusedTag=c,e.data.activedescendant=_.TagsList),this.applyState(e)}triggerOnChange(n,e){this.props.value===void 0&&(e.data.value=[...n]),this._valueItemsDuringOnChange=[],this.setItems(n,this._valueItemsDuringOnChange),e.events.push({type:"onChange"})}selectFocusedItem(n,e){const{virtual:t}=this.props,a=I(this.props),{focusedIndex:s}=e||this.getFocusedState(),l=t?t.skip:0;a[s-l]!==void 0&&this.handleItemClick(s,n)}setItems(n,e){e.length=0,e.push(...n)}getFocusedState(){const{focusedIndex:n}=this.state,e=this.props.filter!==void 0?this.props.filter:this.state.text,{allowCustom:t,dataItemKey:a,virtual:s,textField:l,focusedItemIndex:h=Re,skipDisabledItems:c}=this.props,d=I(this.props),o=s&&s.skip||0;let u;if(n!==void 0)return{focusedIndex:n,focusedItem:d[n-o],focusedType:1};const f=this.value;if(t&&e)return{focusedItem:null,focusedIndex:-1,focusedType:2};if(e)return u=h(d,e,l),{focusedItem:d[u],focusedIndex:u+o,focusedType:1};if(f.length){const p=f[f.length-1];return u=d.findIndex(v=>A(v,p,a)),d[u]!==void 0?{focusedIndex:u+o,focusedItem:d[u],focusedType:1}:{focusedType:0,focusedIndex:-1}}else if(c&&l&&!e&&o===0){const p=d.findIndex(v=>!v.disabled&&v[l]);return{focusedIndex:p,focusedItem:d[p-o],focusedType:1}}return o===0?{focusedItem:d[0],focusedIndex:0,focusedType:1}:{focusedType:0,focusedIndex:-1}}focusElement(n){this._skipFocusEvent=!0,n.focus(),window.setTimeout(()=>this._skipFocusEvent=!1,0)}applyState(n){this.base.applyState(n),this._valueItemsDuringOnChange=null}calculateMedia(n){for(const e of n)this.setState({windowWidth:e.target.clientWidth})}updateStateOnKeyboardNavigation(n,e){this.setState({value:n}),this.triggerOnChange(n,e),this.applyState(e)}getLastSelectedOrDeselectedIndex(n,e){return this._lastSelectedOrDeslectedItemIndex===null&&(this._lastSelectedOrDeslectedItemIndex=e),this._lastSelectedOrDeslectedItemIndex!==null?this._lastSelectedOrDeslectedItemIndex+n:null}};B.displayName="MultiSelect",B.propTypes={...$.propTypes,autoClose:m.bool,value:m.arrayOf(m.any),defaultValue:m.arrayOf(m.any),dataItemKey:m.string,placeholder:m.string,tags:m.arrayOf(m.shape({text:m.string,data:m.arrayOf(m.any)})),tagRender:m.func,id:m.string,ariaLabelledBy:m.string,ariaDescribedBy:m.string,groupField:m.string,list:m.any,adaptive:m.bool,adaptiveTitle:m.string,adaptiveSubtitle:m.string,onCancel:m.func,skipDisabledItems:m.bool,inputAttributes:m.object},B.defaultProps={...$.defaultProps,autoClose:!0,required:!1,size:"medium",rounded:"medium",fillMode:"solid",groupMode:"modern",skipDisabledItems:!0,prefix:void 0,suffix:void 0};let Ue=B;const $e=xe(),le=ye(Ie($e,Ne(Ue)));le.displayName="KendoReactMultiSelect";const Je=({data:i,selected:n,isFilterable:e,handleFilterSearch:t,handleFilterChange:a})=>re.jsx(le,{style:{width:"100%"},data:i,autoClose:!1,tags:n?.length>0?[{text:`${n?.length===1?n[0]:`${n?.length} items`}`,data:[...i]}]:[],filterable:e,onFilterChange:e?t:void 0,placeholder:"All",value:n,onChange:a});Je.__docgenInfo={description:"",methods:[],displayName:"MultiSelect",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(string | number | { [key: string]: string | number | boolean })[]"},description:""},selected:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(string | number | { [key: string]: string | number | boolean })[]"},description:""},isFilterable:{required:!0,tsType:{name:"boolean"},description:""},handleFilterSearch:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: MultiSelectFilterChangeEvent) => void",signature:{arguments:[{type:{name:"MultiSelectFilterChangeEvent"},name:"event"}],return:{name:"void"}}},description:""},handleFilterChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: MultiSelectChangeEvent) => void",signature:{arguments:[{type:{name:"MultiSelectChangeEvent"},name:"event"}],return:{name:"void"}}},description:""}}};export{Je as M};
