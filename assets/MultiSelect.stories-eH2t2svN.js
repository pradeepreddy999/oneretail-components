import{j as fe}from"./index-1L8tUqq3.js";import{R as Z,r}from"./iframe-BfxKmWoJ.js";import{K as de,aY as be,aR as pe,Z as ye,e as v,aZ as xe,I,S as Ie,J as G,ab as F,aU as H,X as m,aq as A,R as Ce,_ as he,G as ke,n as Se,a_ as ee,a8 as Y,ai as ce,P as Ee,a9 as we,ag as De,aF as Fe,H as V,aC as $e,aD as Me,aG as Te,N as _e,a4 as J,a5 as x,a6 as W,a$ as O,ac as j,at as Oe,a0 as U,ae as Ke,ad as Re,az as Ne,al as Pe,b0 as te,b1 as se,aj as ze,am as Be,a3 as Le,a as ie,b2 as qe,b3 as ae,W as He,ak as Ae,aW as Ve}from"./data-obU8gW1k.js";import"./index-DH5O6NbV.js";/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const We=Z.createContext([null,i=>{}]),je=Z.createContext([null,i=>{}]),Ue=Z.createContext([null,i=>{}]);/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */var M=(i=>(i.next="next",i.prev="prev",i.current="current",i.reset="reset",i))(M||{});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */var ue=(i=>(i.remove="remove",i.add="add",i.reorder="reorder",i))(ue||{});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */var N=(i=>(i.toggle="toggle",i.remove="remove",i))(N||{});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Q=r.forwardRef((i,n)=>{de(be);const e=r.useRef(null),t=r.useRef(null),{disabled:a=E.disabled,fillMode:s=E.fillMode,themeColor:l=E.themeColor,size:p=E.size,rounded:u=E.rounded,dir:d=E.dir,removeIcon:o=E.removeIcon,removeSvgIcon:h=E.removeSvgIcon,removable:f=E.removable}=i,c=ye(t,d);r.useImperativeHandle(e,()=>({element:t.current,props:i})),r.useImperativeHandle(n,()=>e.current);const[g,b]=r.useContext(We),[k,S]=r.useContext(je),[,w]=r.useContext(Ue),D=r.useMemo(()=>i.selected||(Array.isArray(g)?g.some(y=>y===i.value):g===i.value),[i.selected,i.value,g]),C=r.useMemo(()=>k===i.value,[i.value,k]);r.useEffect(()=>{C&&t.current&&t.current.focus()},[C]);const _=r.useCallback(y=>{b({type:N.toggle,payload:i.value,event:y})},[b,i.value]),$=r.useCallback(y=>{f&&(w({type:ue.remove,payload:i.value,event:y}),S({type:M.reset,payload:i.value,event:y}),b({type:N.remove,payload:i.value,event:y}),i.onRemove&&i.onRemove.call(void 0,{target:e.current,syntheticEvent:y}))},[i.onRemove,i.value,f,w,S,b]),z=r.useCallback(y=>{switch(y.keyCode){case v.left:S({type:M.prev,payload:i.value,event:y});break;case v.right:S({type:M.next,payload:i.value,event:y});break;case v.enter:b({type:N.toggle,payload:i.value,event:y});break;case v.delete:$(y);break}i.onKeyDown&&i.onKeyDown.call(void 0,{target:e.current,syntheticEvent:y})},[i.onKeyDown,i.value,S,b,$]),B=r.useCallback(y=>{S({payload:i.value,type:M.current,event:y}),i.onFocus&&i.onFocus.call(void 0,{target:e.current,syntheticEvent:y})},[i.onFocus,i.value,S]),L=r.useCallback(y=>{i.onBlur&&i.onBlur.call(void 0,{target:e.current,syntheticEvent:y})},[i.onBlur]),q=xe(i,e,{onClick:_});return r.createElement("div",{...q,role:i.role||"button",id:i.value,style:i.style,ref:t,dir:c,tabIndex:Ie(i.tabIndex,a),className:I("k-chip",{"k-rtl":c==="rtl","k-disabled":a,"k-selected":D,"k-focus":C,[`k-chip-${G.sizeMap[p]||p}`]:p,[`k-rounded-${G.roundedMap[u]||u}`]:u,[`k-chip-${s}`]:s,[`k-chip-${s}-${l}`]:!!(s&&l)},i.className),"aria-pressed":i.role?void 0:D,"aria-disabled":a,"aria-describedby":i.ariaDescribedBy,"aria-keyshortcuts":f?"Enter Delete":void 0,onFocus:B,onBlur:L,onKeyDown:z},D&&(i.selectedIcon||i.selectedSvgIcon)&&r.createElement(F,{className:"k-chip-icon",name:i.selectedIcon?H(i.selectedIcon):void 0,icon:i.selectedSvgIcon,size:"small"}),(i.icon||i.svgIcon)&&r.createElement(F,{className:"k-chip-icon",name:i.icon?H(i.icon):void 0,icon:i.svgIcon,size:"small"}),i.avatar&&r.createElement("div",{className:`k-chip-avatar k-avatar k-rounded-${i.avatar.rounded} k-avatar-md k-avatar-solid k-avatar-solid-primary`,style:i.avatar.style},r.createElement("span",{className:"k-avatar-image"},r.createElement("img",{src:i.avatar.image,alt:i.avatar.imageAlt}))),r.createElement("span",{className:"k-chip-content"},i.children!==void 0?i.children:i.text&&r.createElement("span",{"aria-label":i.ariaLabel||i.text,className:"k-chip-label"},i.text)),f&&r.createElement("span",{className:"k-chip-actions"},r.createElement("span",{className:I("k-chip-action","k-chip-remove-action"),onClick:$},r.createElement(F,{name:o?H(o):void 0,icon:h||pe,size:"small"}))))}),Ge={id:m.string,text:m.string,value:m.any,dir:m.oneOf(["ltr","rtl"]),removable:m.bool,removeIcon:m.string,removeIconSvg:A,disabled:m.bool,icon:m.string,svgIcon:A,selectedIcon:m.string,selectedIconSvg:A,onRemove:m.func,dataItem:m.any,selected:m.bool,ariaDescribedBy:m.string,size:m.oneOf([null,"small","medium","large"]),rounded:m.oneOf([null,"small","medium","large","full"]),fillMode:m.oneOf([null,"outline","solid"]),themeColor:m.oneOf([null,"base","info","success","warning","error"])},E={disabled:!1,removable:!1,removeIcon:"k-i-x-circle",removeSvgIcon:pe,dir:"ltr",size:"medium",rounded:"medium",fillMode:"solid",themeColor:"base"};Q.displayName="KendoReactChip";Q.propTypes=Ge;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */let Ye=class extends r.Component{constructor(){super(...arguments),this._input=null}get input(){return this._input}componentDidUpdate(n){const e=n.value,t=n.suggestedText,{value:a,suggestedText:s,focused:l}=this.props,p=this.input,u=e!==a||s!==t,d=u&&e.startsWith(a)&&!(t&&s&&t.endsWith(s)),o=Ce(document);l&&p&&o!==p&&p.focus(),s&&u&&!d&&p&&p.setSelectionRange(a.length-s.length,a.length)}render(){const{expanded:n=!1,disabled:e,role:t="listbox",render:a,tabIndex:s,accessKey:l,unstyled:p,inputAttributes:u}=this.props,d=p&&p.uDropDownsBase,o={tabIndex:s,accessKey:l},h=r.createElement("input",{autoComplete:"off",id:this.props.id,type:"text",key:"searchbar",size:this.props.size,placeholder:this.props.placeholder,className:I(he.inputInner({c:d})),role:t,name:this.props.name,value:this.props.value,onChange:this.props.onChange,ref:f=>this._input=f,onKeyDown:this.props.onKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onClick:this.props.onClick,"aria-disabled":e||void 0,disabled:e||void 0,readOnly:this.props.readOnly||void 0,title:this.props.title,"aria-haspopup":"listbox","aria-expanded":n,"aria-owns":this.props.owns,"aria-activedescendant":n?this.props.activedescendant:void 0,"aria-describedby":this.props.ariaDescribedBy,"aria-labelledby":this.props.ariaLabelledBy,"aria-label":this.props.ariaLabel,"aria-required":this.props.ariaRequired,"aria-controls":this.props.ariaControls,...Object.assign({},o,u)});return a?a.call(void 0,h):h}};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Je=i=>{const n=ke(),e=Se(),t=e&&e.uDropDownsBase,a=n.toLanguageString(ee,Y[ee]),s=l=>l.preventDefault();return r.createElement("span",{className:I(he.clearButton({c:t})),role:"button",onClick:i.onClick,onMouseDown:s,tabIndex:-1,title:a,key:"clearbutton"},r.createElement(F,{name:"x",icon:ce}))};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const oe=Ee;/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Xe=i=>{const{footer:n,windowWidth:e=0,mobileFilter:t,children:a,navigatable:s,navigatableElements:l,expand:p,animation:u,title:d,subTitle:o,onClose:h}=i,f=we(),c={navigatable:s||!1,navigatableElements:l||[],expand:p,animation:u!==!1,actions:r.createElement(V,{tabIndex:0,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",icon:"x",svgIcon:ce,onClick:h}),filter:t,onClose:h,animationStyles:f&&e<=f.small?{top:0,width:"100%",height:"100%"}:void 0,title:d,subTitle:o,className:"k-adaptive-actionsheet",position:f&&e<=f.small?"fullscreen":void 0};return r.createElement(De,{...c},a,n&&r.createElement(Fe,{className:"k-actions k-actions-stretched"},r.createElement(V,{size:"large",tabIndex:0,"aria-label":n.cancelText,"aria-disabled":"false",type:"button",onClick:n.onCancel},n.cancelText),r.createElement(V,{tabIndex:0,themeColor:"primary",size:"large","aria-label":n.applyText,"aria-disabled":"false",type:"button",onClick:n.onApply},n.applyText)))};/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const Ze=i=>i.syntheticEvent.preventDefault(),Qe=i=>i.syntheticEvent.stopPropagation();class et extends r.Component{render(){const{data:n,guid:e,focused:t,tagRender:a,tag:s,onTagDelete:l,size:p}=this.props;return r.createElement(r.Fragment,null,n.map((u,d)=>{const o=s?r.createElement(s,{key:u.text+d,tagData:u,guid:e,focusedTag:t,onTagDelete:l}):r.createElement(Q,{id:`tag-${e}-${u.text.replace(/\s+/g,"-")}`,"aria-selected":!0,role:"option","aria-setsize":n.length,key:u.text+d,text:u.text,removable:!0,onRemove:h=>l.call(void 0,u.data,h.syntheticEvent),onMouseDown:Ze,onClick:Qe,className:u===t?"k-focus":void 0,size:p});return a?a(u,o):o}),this.props.children)}}/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */var T=(i=>(i[i.PopupList=0]="PopupList",i[i.TagsList=1]="TagsList",i))(T||{});/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright © 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */const{sizeMap:K,roundedMap:tt}=G,st="Please enter a valid value!",ne=i=>i.preventDefault(),le=i=>i===2,P=class X extends r.Component{constructor(n){super(n),this.state={activedescendant:T.PopupList,currentValue:[]},this._element=null,this._valueItemsDuringOnChange=null,this.base=new J(this),this._tags=[],this._input=null,this._adaptiveInput=null,this._skipFocusEvent=!1,this._lastSelectedOrDeslectedItemIndex=null,this.itemHeight=0,this.scrollToFocused=!1,this.localization=null,this.focus=()=>{this._input&&this._input.focus()},this.handleItemSelect=(e,t)=>{const{dataItemKey:a,virtual:s}=this.props,l=x(this.props),p=s?s.skip:0,u=l[e-p],d=this.value.findIndex(h=>W(h,u,a));this._lastSelectedOrDeslectedItemIndex=l.findIndex(h=>W(h,u,a));let o=[];d!==-1?(o=this.value,o.splice(d,1)):o=[...this.value,u],(this.props.filter!==void 0?this.props.filter:this.state.text)&&!this.mobileMode&&(this.state.text&&(t.data.text=""),this.base.filterChanged("",t)),this._adaptiveInput&&this._adaptiveInput.blur(),this.state.focusedIndex!==void 0&&(t.data.focusedIndex=void 0),this.triggerOnChange(o,t),this.base.triggerPageChangeCornerItems(u,t)},this.onTagDelete=(e,t)=>{const a=this.base.initState();a.syntheticEvent=t,this.opened&&this.base.togglePopup(a),!this.state.focused&&!this.mobileMode&&(a.data.focused=!0,this.focus());const s=this.value;O(s,e,this.props.dataItemKey),this.triggerOnChange(s,a),this.applyState(a)},this.itemFocus=(e,t)=>{const{allowCustom:a,virtual:s}=this.props,l=x(this.props),p=s?s.skip:0,u=this.props.filter!==void 0?this.props.filter:this.state.text,{focusedIndex:d}=this.getFocusedState(),o=a&&u,h=l[e-p];h&&d!==e?this.state.focusedIndex!==e&&(t.data.focusedIndex=e,t.data.activedescendant=T.PopupList):o&&e===-1&&this.state.focusedIndex!==void 0&&(t.data.focusedIndex=void 0),this.base.triggerPageChangeCornerItems(h,t)},this.componentRef=e=>{this._element=e,this.base.wrapper=e},this.searchbarRef=e=>{const t=this._input=e&&e.input;t&&this.state.focused&&window.setTimeout(()=>t.focus(),0)},this.onChangeHandler=e=>{const t=this.base.initState(),a=e.target.value;t.syntheticEvent=e,this.props.filter===void 0&&(t.data.text=a),t.data.focusedIndex=void 0,this.opened||(this.base.togglePopup(t),this.setState({currentValue:this.value})),this.base.filterChanged(a,t),this.applyState(t),this.setState({group:void 0})},this.clearButtonClick=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),this.value.length>0&&this.triggerOnChange([],t),this.state.focusedIndex!==void 0&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t);const a=this.props.filter!==void 0?this.props.filter:this.state.text;j(a)&&a!==""&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this._lastSelectedOrDeslectedItemIndex=null,this.applyState(t)},this.onInputKeyDown=e=>{const{textField:t,groupField:a}=this.props,s=x(this.props),l=e.keyCode,p=this.props.filter!==void 0?this.props.filter:this.state.text,u=this.props.opened!==void 0?this.props.opened:this.state.opened,{focusedItem:d,focusedIndex:o}=this.getFocusedState(),h=this.base.initState();if(h.syntheticEvent=e,!p&&this.value.length>0&&(l===v.left||l===v.right||l===v.home||l===v.end||l===v.delete||l===v.backspace)&&!e.shiftKey)return this.onTagsNavigate(e,h);const f=()=>{e.preventDefault(),this.base.togglePopup(h),this.applyState(h)};if(this.opened)if(l===v.pageUp)e.preventDefault(),this.base.scrollPopupByPageSize(-1);else if(l===v.pageDown)e.preventDefault(),this.base.scrollPopupByPageSize(1);else if((e.ctrlKey||e.metaKey)&&e.code==="KeyA"){const c=(this.state.value&&this.state.value.length)===s.length?[]:s;this.updateStateOnKeyboardNavigation(c,h)}else if((e.ctrlKey||e.metaKey)&&e.shiftKey&&e.keyCode===v.end){const c=s.slice(this.getFocusedState().focusedIndex);this.itemFocus(s.length-1,h),this.updateStateOnKeyboardNavigation(c,h)}else if((e.ctrlKey||e.metaKey)&&e.shiftKey&&e.keyCode===v.home){const c=s.slice(0,this.getFocusedState().focusedIndex+1);this.itemFocus(0,h),this.updateStateOnKeyboardNavigation(c,h)}else if(e.shiftKey&&e.keyCode===v.up){let c;const g=this.getLastSelectedOrDeselectedIndex(1,o);g===null?c=o!==0?s.slice(o-1,o):[s[o]]:g===o?c=[s[g-1]]:o>=0&&(c=g>o?s.slice(o-1,g):s.slice(g-1,o)),c&&c.length>0&&(o>=1&&this.itemFocus(o-1,h),this.updateStateOnKeyboardNavigation(c,h))}else if(e.shiftKey&&e.keyCode===v.down){let c;const g=this.getLastSelectedOrDeselectedIndex(0,o);g===null?c=o!==s.length-1?s.slice(o,o+1):[s[o]]:g===o?c=s.slice(o,o+2):o>=0&&(c=g>o?s.slice(o+1,g+1):s.slice(g,o+2)),c&&c.length>=1&&(this.itemFocus(o+1,h),this.updateStateOnKeyboardNavigation(c,h))}else if(e.altKey&&l===v.up)f();else if(l===v.up||l===v.down){if(a!==""&&t)if(!this.props.skipDisabledItems&&u)this.onNavigate(h,l);else{let c=0;if(l===v.down||l===v.right){const g=s.slice(o+1).find(b=>!b.disabled&&b[t]);c=g&&s.findIndex(b=>b[t]===g[t])}else if(l===v.up||l===v.left){let g;if(o===-1)g=s,c=s.findIndex(b=>!b.disabled&&b[t]);else{g=s.slice(0,o);let b=g.pop();for(;b&&b.disabled;)b=g.pop();c=b&&s.findIndex(k=>k[t]===b[t])}}if(c){const g=c-o;this.onNavigate(h,l,g)}else c!==void 0&&this.onNavigate(h,l)}else if(!this.props.skipDisabledItems&&u)this.onNavigate(h,l);else{let c=null;if(l===v.down||l===v.right)c=s.slice(o+1).find(g=>!g.disabled);else if(l===v.up||l===v.left){const g=s.slice(0,o);for(c=g.pop();c&&c.disabled;)c=g.pop()}if(c){const g=c.id-o-1;this.onNavigate(h,l,g)}else this.onNavigate(h,l)}this.applyState(h),e.preventDefault()}else l===v.enter?(e.preventDefault(),this.props.allowCustom&&p&&d===null?this.customItemSelect(e):d&&d.disabled?f():this.selectFocusedItem(e)):l===v.esc&&f();else e.altKey&&l===v.down?f():l===v.esc&&this.clearButtonClick(e)},this.listContainerContent=()=>{const{header:e,footer:t,allowCustom:a,size:s,groupStickyHeaderItemRender:l,groupField:p,list:u}=this.props,d=x(this.props),o=this.props.filter!==void 0?this.props.filter:this.state.text,{focusedType:h}=this.getFocusedState(),f=a&&o&&r.createElement("div",{className:I("k-list",{[`k-list-${K[s]||s}`]:s}),key:"customitem",onClick:this.customItemSelect,onMouseDown:ne},r.createElement("div",{className:I("k-list-item k-custom-item",{"k-focus":le(h)}),style:{fontStyle:"italic"}},o,r.createElement(F,{name:"plus",icon:Oe,style:{position:"absolute",right:"0.5em"}})));let{group:c}=this.state;return c===void 0&&p!==void 0&&(c=U(d[0],p)),r.createElement(r.Fragment,null,e&&r.createElement("div",{className:"k-list-header"},e),f,r.createElement("div",{className:I("k-list",{[`k-list-${this.mobileMode?"lg":K[s]||s}`]:s,"k-virtual-list":this.base.vs.enabled})},!u&&c&&d.length!==0&&r.createElement(Ke,{group:c,groupMode:"modern",render:l}),this.renderList()),t&&r.createElement("div",{className:"k-list-footer"},t))},this.renderListContainer=()=>{const e=this.base,{dir:t}=this.props,a=x(this.props),s=this.base.getPopupSettings(),l=s.width!==void 0?s.width:e.popupWidth,p={dir:t!==void 0?t:e.dirCalculated,width:l,popupSettings:{...s,popupClass:I(s.popupClass,"k-list-container","k-multiselect-popup"),anchor:s.anchor||this.element,show:this.opened,onOpen:this.onPopupOpened,onClose:this.onPopupClosed},itemsCount:[a.length,this.value.length]};return r.createElement(Re,{...p},this.listContainerContent())},this.renderAdaptiveListContainer=()=>{const{adaptiveTitle:e,filterable:t,filter:a}=this.props,{windowWidth:s=0}=this.state,l=a!==void 0?a:this.state.text;this.localization=Ne(this);const p=t?r.createElement(Pe,{value:l,ref:d=>this._adaptiveInput=d&&d.element,onChange:this.onChangeHandler,onKeyDown:this.onInputKeyDown,size:this.props.size,rounded:this.props.rounded,fillMode:this.props.fillMode}):null,u={title:e,expand:this.opened,onClose:d=>this.onCancel(d),windowWidth:s,mobileFilter:p,footer:{cancelText:this.localization.toLanguageString(se,Y[se]),onCancel:this.onCancel,applyText:this.localization.toLanguageString(te,Y[te]),onApply:this.closePopup}};return r.createElement(Xe,{...u},r.createElement(ze,{overflowHidden:!0},r.createElement("div",{className:"k-list-container"},this.listContainerContent())))},this.closePopup=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),this.state.focusedIndex!==void 0&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t),t.events.push({type:"onClose"});const a=this.props.filter!==void 0?this.props.filter:this.state.text;j(a)&&a!==""&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this.applyState(t)},this.onCancel=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),this.state.focusedIndex!==void 0&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t),t.events.push({type:"onCancel"});const a=this.props.filter!==void 0?this.props.filter:this.state.text;j(a)&&a!==""&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this.applyState(t)},this.renderList=()=>{const{textField:e,listNoDataRender:t,itemRender:a,groupHeaderItemRender:s,dataItemKey:l,virtual:p={skip:0,total:void 0}}=this.props,u=x(this.props),d=this.base.vs,{focusedIndex:o}=this.getFocusedState(),h=this.base.getPopupSettings(),f=`translateY(${d.translate}px)`;return r.createElement(Be,{id:this.base.listBoxId,show:this.opened,data:u.slice(),focusedIndex:o-p.skip,value:this.value,textField:e,valueField:l,optionsGuid:this.base.guid,groupField:this.props.groupField,groupMode:"modern",listRef:c=>{d.list=this.base.list=c},wrapperStyle:this.mobileMode?{}:{maxHeight:h.height},wrapperCssClass:"k-list-content",listStyle:d.enabled?{transform:f}:void 0,key:"listKey",skip:p.skip,onClick:this.handleItemClick,itemRender:a,groupHeaderItemRender:s,noDataRender:t,onMouseDown:ne,onBlur:this.handleBlur,onScroll:this.onScroll,wrapperRef:d.scrollerRef,scroller:this.base.renderScrollElement(),ariaSetSize:p.total})},this.onScroll=e=>{const{vs:t,list:a}=this.base;t.scrollHandler(e);const{groupField:s}=this.props;let l=x(this.props);if(!(!s||!l.length)&&s){const p=this.itemHeight=this.itemHeight||(t.enabled?t.itemHeight:a?a.children[0].offsetHeight:0),u=e.target.scrollTop-t.skip*p;l=this.base.getGroupedDataModernMode(l,s);let d=l[0][s];for(let o=1;o<l.length&&!(p*o>u);o++)l[o]&&l[o][s]&&(d=l[o][s]);d!==this.state.group&&this.setState({group:d})}},this.customItemSelect=e=>{const t=this.props.filter!==void 0?this.props.filter:this.state.text,{textField:a}=this.props;if(!t)return;const s=this.base.initState();s.syntheticEvent=e;const l=a?{[a]:t}:t;this.state.text!==void 0&&(s.data.text=""),s.data.focusedIndex=void 0,this.base.filterChanged("",s);const p=[...this.value,l];this.triggerOnChange(p,s),this.base.togglePopup(s),this.applyState(s)},this.handleWrapperClick=e=>{const t=this._input;!this.opened&&t&&this.focusElement(t);const a=this.base.initState();a.syntheticEvent=e,!this.state.focused&&!this.mobileMode&&(a.events.push({type:"onFocus"}),a.data.focused=!0),this.mobileMode&&(this.setState({currentValue:this.tagsToRender}),this.mobileMode&&window.setTimeout(()=>this._adaptiveInput&&this._adaptiveInput.focus(),300)),this.base.togglePopup(a),this.applyState(a)},this.handleItemClick=(e,t)=>{const a=this.base.initState();a.syntheticEvent=t,this.handleItemSelect(e,a),this.props.autoClose&&!this.mobileMode&&this.base.togglePopup(a),t.stopPropagation(),this.applyState(a)},this.handleBlur=e=>{if(!this.state.focused||this._skipFocusEvent)return;const t=this.base.initState(),{allowCustom:a,filterable:s}=this.props;t.syntheticEvent=e,t.data.focused=!1,t.events.push({type:"onBlur"}),this.opened&&!this.mobileMode&&(this.state.opened&&(t.data.opened=!1),t.events.push({type:"onClose"})),!a&&!s&&this.state.text&&(t.data.text=""),this.applyState(t)},this.handleFocus=e=>{this._skipFocusEvent||this.base.handleFocus(e)},this.onPopupOpened=()=>{this._input&&this.state.focused&&!this.mobileMode&&this.focusElement(this._input)},this.onPopupClosed=()=>{this.state.focused&&window.setTimeout(()=>{this.state.focused&&this.focusElement(this._input)},0)},this.setValidity=()=>{this._input&&this._input.setCustomValidity&&this._input.setCustomValidity(this.validity.valid?"":this.props.validationMessage||st)},de(Le)}get _inputId(){return this.props.id}get document(){if(ie)return this.element&&this.element.ownerDocument||document}get element(){return this._element}get opened(){return!!(this.props.opened!==void 0?this.props.opened:this.state.opened)}get tagsToRender(){const{tags:n,textField:e}=this.props,t=[];return n===void 0?this.value.forEach(a=>{t.push({text:U(a,e),data:[a]})}):t.push(...n),t}get mobileMode(){var n;return!!(this.state.windowWidth&&this.props._adaptiveMode&&this.state.windowWidth<=((n=this.props._adaptiveMode)==null?void 0:n.medium)&&this.props.adaptive)}get value(){const n=[];return this._valueItemsDuringOnChange?n.push(...this._valueItemsDuringOnChange):this.props.value?n.push(...this.props.value):this.state.value?n.push(...this.state.value):this.props.defaultValue&&n.push(...this.props.defaultValue),n}get name(){return this.props.name}get validity(){const n=this.props.validationMessage!==void 0,e=!this.required||this.value!==null&&this.value.length>0&&this.value!==void 0,t=this.props.valid!==void 0?this.props.valid:e;return{customError:n,valid:t,valueMissing:this.value===null}}get required(){return this.props.required!==void 0?this.props.required:X.defaultProps.required}get validityStyles(){return this.props.validityStyles!==void 0?this.props.validityStyles:X.defaultProps.validityStyles}componentDidUpdate(n,e){var t;const{virtual:a,groupField:s=""}=this.props,l=x(this.props),p=a?a.skip:0,u=n.virtual?n.virtual.total:0,d=n.opened!==void 0?n.opened:e.opened,o=!d&&this.opened,h=d&&!this.opened,f=this.base.getPopupSettings();if(this.base.didUpdate(),!f.animate&&h&&this.onPopupClosed(),a&&a.total!==u)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{let{focusedItem:c,focusedIndex:g}=this.getFocusedState();s!==""&&(g=(t=this.base.getGroupedDataModernMode(l,s))==null?void 0:t.indexOf(c)),o&&a?this.base.scrollToVirtualItem(a,g-p):o&&!a?(l&&l.length!==0&&this.base.resetGroupStickyHeader(l[0][s],this),this.base.scrollToItem(g)):this.opened&&d&&c&&this.scrollToFocused&&this.base.scrollToItem(g-p)}this.scrollToFocused=!1,this.setValidity()}componentDidMount(){var n;this.observerResize=ie&&window.ResizeObserver&&new window.ResizeObserver(this.calculateMedia.bind(this)),this.base.didMount(),this.setValidity(),(n=this.document)!=null&&n.body&&this.observerResize&&this.observerResize.observe(this.document.body)}componentWillUnmount(){var n;(n=this.document)!=null&&n.body&&this.observerResize&&this.observerResize.disconnect()}onNavigate(n,e,t){const{allowCustom:a}=this.props,s=x(this.props),l=this.props.filter!==void 0?this.props.filter:this.state.text,{focusedType:p,focusedIndex:u}=this.getFocusedState(),d=a&&l,o=le(p),h=this.base,f=h.vs;if(this.opened&&e===v.up&&o)this.state.focusedIndex!==void 0&&(n.data.focusedIndex=void 0);else{const c=h.navigation.navigate({keyCode:e,current:u,max:(f.enabled?f.total:s.length)-1,min:d?-1:0,skipItems:t||void 0});c!==void 0&&(this.itemFocus(c,n),this.scrollToFocused=!0)}this.applyState(n)}render(){const{style:n,className:e,label:t,dir:a,disabled:s,textField:l,dataItemKey:p,virtual:u,size:d,rounded:o,fillMode:h,loading:f,filter:c}=this.props,{text:g,focused:b,focusedTag:k,currentValue:S}=this.state,w=this.base.vs,D=this.props.id||this._inputId;w.enabled=u!==void 0,u!==void 0&&(w.skip=u.skip,w.total=u.total,w.pageSize=u.pageSize);const C=this.mobileMode&&this.opened?S:this.tagsToRender;this.setItems(this.tagsToRender,this._tags);const _=!this.validityStyles||this.validity.valid,$=!!(c!==void 0?c:g)||C&&C.length>0,[z,B]=oe(this.props.prefix||r.Fragment),[L,q]=oe(this.props.suffix||r.Fragment),y=r.createElement(r.Fragment,null,r.createElement("div",{ref:this.componentRef,className:I("k-multiselect k-input",e,{[`k-input-${K[d]||d}`]:d,[`k-rounded-${tt[o]||o}`]:o,[`k-input-${h}`]:h,"k-focus":b&&!s,"k-invalid":!_,"k-disabled":s,"k-loading":f,"k-required":this.required}),style:t?{...n,width:void 0}:n,dir:a,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleWrapperClick,onMouseDown:qe},this.props.prefix&&r.createElement(z,{...B}),r.createElement("div",{className:I("k-input-values")},r.createElement("div",{className:I("k-chip-list",{[`k-chip-list-${K[d]||d}`]:d}),role:"listbox",id:"tagslist-"+this.base.guid},C&&C.length>0&&r.createElement(et,{tagRender:this.props.tagRender,onTagDelete:this.onTagDelete,data:C,guid:this.base.guid,focused:k?C.find(ve=>ae(ve,k,p)):void 0,size:d})),this.renderSearchBar(D)),f&&r.createElement(F,{className:"k-input-loading-icon",name:"loading"}),this.props.suffix&&r.createElement(L,{...q}),$&&r.createElement(Je,{onClick:this.clearButtonClick}),!this.mobileMode&&this.renderListContainer()),this.mobileMode&&this.renderAdaptiveListContainer());return t?r.createElement(He,{label:t,editorId:D,editorValue:g||U(this.value[0],l),editorValid:_,editorDisabled:s,style:{width:n?n.width:void 0},children:y}):y}renderSearchBar(n){const{activedescendant:e,focusedTag:t,currentValue:a}=this.state,{disabled:s,placeholder:l,ariaDescribedBy:p,ariaLabelledBy:u,ariaLabel:d,inputAttributes:o}=this.props,h=!this.mobileMode&&(this.props.filter!==void 0?this.props.filter:this.state.text)||"",{focusedIndex:f}=this.getFocusedState(),c=this.value.length===0&&!h?l:void 0,g=a&&a.length>0?void 0:l,b=e===T.TagsList&&t!==void 0?`tag-${this.base.guid}-${t.text.replace(/\s+/g,"-")}`:`option-${this.base.guid}-${f}`,k={accessKey:this.props.accessKey,tabIndex:this.props.tabIndex};return r.createElement(Ye,{id:n,size:Math.max((c||"").length,h.length,1),placeholder:this.mobileMode&&this.opened?g:c,value:h,onChange:this.onChangeHandler,onKeyDown:this.onInputKeyDown,ref:this.searchbarRef,disabled:s,expanded:this.opened,owns:this.base.listBoxId,role:"combobox",activedescendant:b,ariaDescribedBy:`tagslist-${this.base.guid}${p?" "+p:""}`,ariaLabelledBy:u,ariaRequired:this.required,ariaLabel:d,inputAttributes:o,...k})}onTagsNavigate(n,e){const t=n.keyCode,{focusedTag:a}=this.state,s=this._tags,l=this.props.dataItemKey;let p=a?s.findIndex(o=>ae(o,a,l)):-1,u;const d=p!==-1;if(t===v.left)d?p=Math.max(0,p-1):p=s.length-1,u=s[p];else if(t===v.right)p===s.length-1?u=void 0:d&&(p=Math.min(s.length-1,p+1),u=s[p]);else if(t===v.home&&!n.shiftKey)u=s[0];else if(t===v.end&&!n.shiftKey)u=s[s.length-1];else if(t===v.delete){if(d){const o=this.value;O(o,s[p].data,l),this.triggerOnChange(o,e)}}else if(t===v.backspace){const o=this.value;if(d)O(o,s[p].data,l),this.triggerOnChange(o,e);else if(!d&&s.length){const h=s.pop();O(o,h.data,l),this.triggerOnChange(o,e)}}u!==a&&(e.data.focusedTag=u,e.data.activedescendant=T.TagsList),this.applyState(e)}triggerOnChange(n,e){this.props.value===void 0&&(e.data.value=[...n]),this._valueItemsDuringOnChange=[],this.setItems(n,this._valueItemsDuringOnChange),e.events.push({type:"onChange"})}selectFocusedItem(n,e){const{virtual:t}=this.props,a=x(this.props),{focusedIndex:s}=e||this.getFocusedState(),l=t?t.skip:0;a[s-l]!==void 0&&this.handleItemClick(s,n)}setItems(n,e){e.length=0,e.push(...n)}getFocusedState(){const{focusedIndex:n}=this.state,e=this.props.filter!==void 0?this.props.filter:this.state.text,{allowCustom:t,dataItemKey:a,virtual:s,textField:l,focusedItemIndex:p=Ae,skipDisabledItems:u}=this.props,d=x(this.props),o=s&&s.skip||0;let h;if(n!==void 0)return{focusedIndex:n,focusedItem:d[n-o],focusedType:1};const f=this.value;if(t&&e)return{focusedItem:null,focusedIndex:-1,focusedType:2};if(e)return h=p(d,e,l),{focusedItem:d[h],focusedIndex:h+o,focusedType:1};if(f.length){const c=f[f.length-1];return h=d.findIndex(g=>W(g,c,a)),d[h]!==void 0?{focusedIndex:h+o,focusedItem:d[h],focusedType:1}:{focusedType:0,focusedIndex:-1}}else if(u&&l&&!e&&o===0){const c=d.findIndex(g=>!g.disabled&&g[l]);return{focusedIndex:c,focusedItem:d[c-o],focusedType:1}}return o===0?{focusedItem:d[0],focusedIndex:0,focusedType:1}:{focusedType:0,focusedIndex:-1}}focusElement(n){this._skipFocusEvent=!0,n.focus(),window.setTimeout(()=>this._skipFocusEvent=!1,0)}applyState(n){this.base.applyState(n),this._valueItemsDuringOnChange=null}calculateMedia(n){for(const e of n)this.setState({windowWidth:e.target.clientWidth})}updateStateOnKeyboardNavigation(n,e){this.setState({value:n}),this.triggerOnChange(n,e),this.applyState(e)}getLastSelectedOrDeselectedIndex(n,e){return this._lastSelectedOrDeslectedItemIndex===null&&(this._lastSelectedOrDeslectedItemIndex=e),this._lastSelectedOrDeslectedItemIndex!==null?this._lastSelectedOrDeslectedItemIndex+n:null}};P.displayName="MultiSelect",P.propTypes={...J.propTypes,autoClose:m.bool,value:m.arrayOf(m.any),defaultValue:m.arrayOf(m.any),dataItemKey:m.string,placeholder:m.string,tags:m.arrayOf(m.shape({text:m.string,data:m.arrayOf(m.any)})),tagRender:m.func,id:m.string,ariaLabelledBy:m.string,ariaDescribedBy:m.string,groupField:m.string,list:m.any,adaptive:m.bool,adaptiveTitle:m.string,onCancel:m.func,skipDisabledItems:m.bool,inputAttributes:m.object},P.defaultProps={...J.defaultProps,autoClose:!0,required:!1,size:"medium",rounded:"medium",fillMode:"solid",groupMode:"modern",skipDisabledItems:!0,prefix:void 0,suffix:void 0};let it=P;const at=_e(),ge=$e(Me(at,Te(it)));ge.displayName="KendoReactMultiSelect";const me=({data:i,selected:n,isFilterable:e,handleFilterSearch:t,handleFilterChange:a})=>fe.jsx(ge,{style:{width:"100%"},data:i,autoClose:!1,tags:n?.length>0?[{text:`${n?.length===1?n[0]:`${n?.length} items`}`,data:[...i]}]:[],filterable:e,onFilterChange:e?t:void 0,placeholder:"All",value:n,onChange:a});me.__docgenInfo={description:"",methods:[],displayName:"MultiSelect",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(string | number | { [key: string]: string | number | boolean })[]"},description:""},selected:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(string | number | { [key: string]: string | number | boolean })[]"},description:""},isFilterable:{required:!0,tsType:{name:"boolean"},description:""},handleFilterSearch:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: MultiSelectFilterChangeEvent) => void",signature:{arguments:[{type:{name:"MultiSelectFilterChangeEvent"},name:"event"}],return:{name:"void"}}},description:""},handleFilterChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: MultiSelectChangeEvent) => void",signature:{arguments:[{type:{name:"MultiSelectChangeEvent"},name:"event"}],return:{name:"void"}}},description:""}}};const{fn:re}=__STORYBOOK_MODULE_TEST__,pt={title:"Stories/MultiSelect",component:me,tags:["autodocs"],parameters:{layout:"centered"}},R={args:{data:Ve.map(i=>i.field),selected:[],isFilterable:!0,handleFilterChange:re(),handleFilterSearch:re()}};R.parameters={...R.parameters,docs:{...R.parameters?.docs,source:{originalSource:`{
  args: {
    data: columns.map(x => x.field),
    selected: [],
    isFilterable: true,
    handleFilterChange: fn(),
    handleFilterSearch: fn()
  }
} satisfies Story`,...R.parameters?.docs?.source}}};const ht=["Default"];export{R as Default,ht as __namedExportsOrder,pt as default};
